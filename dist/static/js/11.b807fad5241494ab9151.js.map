{"version":3,"sources":["webpack:///src/pages/banner/banner.vue","webpack:///./src/pages/banner/banner.vue?fd00","webpack:///./src/pages/banner/banner.vue"],"names":["banner","name","data","filterForm","bannerType","pageNum","pageSize","listData","total","list","bannerTypeList","isShowAddDialog","ruleForm","bannerUrl","bannerTypeEnName","bannerName","jumpUrl","weight","remark","dialogTitle","rules","required","message","trigger","server_path","bannerTypeCode","methods","resetForm","this","$refs","resetFields","submitForm","num","getAppBannerInfos","getPaginationChange","val","currentPage","_this","$http","post","then","res","result","getBannerType","_this2","version","plat","forEach","item","label","value","remove","itemData","_this3","id","$confirm","confirmButtonText","cancelButtonText","type","sysStatus","$notify","title","switchChange","_this4","isOnshelf","getbannerTypeEnName","_this5","code","upload","response","file","fileList","urls","addBanner","modification","JSON","parse","stringify_default","determine","_this6","validate","valid","_ruleForm","activated","SERVER_PATH","banner_banner","render","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","text-align","attrs","span","size","on","click","_v","ref","inline","label-width","model","placeholder","callback","$$v","$set","expression","_l","key","isReset","$event","prop","width","scopedSlots","_u","fn","scope","row","indexOf","_e","max-width","max-height","src","alt","_s","target","href","disabled","nativeOn","inactive-value","active-value","directives","rawName","length","page-size","current-page","handleChange","visible","update:visible","slot","action","multiple","show-file-list","on-success","change","index","min","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/11.b807fad5241494ab9151.js","sourcesContent":["/**\n*  Created by   阿紫\n*  On  2018/8/10\n*  Content\n*/\n<template>\n  <div class='banner'>\n    <el-col :span=\"22\" style=\"text-align:right;\">\n      <el-button size=\"small\" type=\"primary\" @click=\"addBanner\">创建banner</el-button>\n    </el-col>\n    <el-form :inline=\"true\"\n             label-width=\"100px\"\n             ref=\"filterForm\"\n             :model=\"filterForm\">\n      <el-form-item label=\"banner类型\">\n        <el-select v-model=\"filterForm.bannerType\" size=\"small\" placeholder=\"请选择banner类型\">\n          <el-option\n            v-for=\"item in bannerTypeList\"\n            :key=\"item.value\"\n            :label=\"item.label\"\n            :value=\"item.value\">\n          </el-option>\n        </el-select>\n      </el-form-item>\n      <sac-submit-form\n        :isReset='false'\n        @submitForm=\"submitForm(1)\"></sac-submit-form>\n    </el-form>\n    <sac-table :data=\"listData.list\">\n      <el-table-column prop=\"weight\" label=\"权重\" width=\"80\"></el-table-column>\n      <el-table-column label=\"图片\">\n        <template slot-scope=\"scope\">\n          <img v-if=\"!scope.row.bannerUrl.indexOf('http')\" :src=\"scope.row.bannerUrl\"\n               style=\"max-width:100%; max-height: 150px;\" alt=\"图片存储地址不存在\">\n          <span v-if=\"scope.row.bannerUrl.indexOf('http')\">{{scope.row.bannerUrl}}</span>\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"bannerTypeName\" label=\"banner类型\"></el-table-column>\n      <el-table-column prop=\"bannerName\" label=\"banner名称\"></el-table-column>\n      <el-table-column prop=\"jumpUrl\" label=\"跳转链接\">\n        <template slot-scope=\"scope\" prop=\"sysStatus\">\n          <a target=\"_brank\" :href=\"scope.row.jumpUrl\">{{scope.row.jumpUrl}}</a>\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"remark\" label=\"备注\"></el-table-column>\n      <el-table-column prop=\"createTime\" label=\"创建时间\" width=\"170\"></el-table-column>\n      <el-table-column label=\"操作\" width=\"160\">\n        <template slot-scope=\"scope\" prop=\"sysStatus\">\n          <el-button type=\"primary\" :disabled=\"scope.row.isOnshelf != 0\" size=\"small\"\n                     @click.native=\"modification(scope.row)\">修改\n          </el-button>\n          <el-button type=\"danger\" :disabled=\"scope.row.isOnshelf != 0\" size=\"small\"\n                     @click.native=\"remove(scope.row)\">删除\n          </el-button>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"上架\" width=\"100\">\n        <template slot-scope=\"scope\" prop=\"isOnshelf\">\n          <el-switch v-model=\"scope.row.isOnshelf\" :inactive-value=\"0\" :active-value=\"1\"\n                     @click.native=\"switchChange(scope.row)\"></el-switch>\n        </template>\n      </el-table-column>\n    </sac-table>\n    <sac-pagination v-show=\"listData.list.length>0\"\n                    @handleChange=\"getPaginationChange\"\n                    :total=\"+listData.total\"\n                    :page-size=\"filterForm.pageSize\"\n                    :current-page=\"filterForm.pageNum\">\n    </sac-pagination>\n    <el-dialog :title=\"dialogTitle\" :visible.sync=\"isShowAddDialog\">\n      <el-form ref=\"ruleForm\" :model=\"ruleForm\" :rules=\"rules\" label-width=\"110px\">\n        <el-form-item label=\"banner图片:\" prop=\"bannerUrl\">\n          <el-col>\n            <el-input size=\"small\" v-model=\"ruleForm.bannerUrl\" placeholder=\"请选择上传\">\n              <el-upload\n                :action=\"server_path + 'wallet/util/open/uploadFile.do'\"\n                multiple\n                name=\"files\"\n                :data=\"{type:'img'}\"\n                :show-file-list=\"false\"\n                :on-success=\"upload\" slot=\"append\">\n                <el-button size=\"small\" type=\"primary\">点击上传</el-button>\n              </el-upload>\n            </el-input>\n          </el-col>\n        </el-form-item>\n        <el-form-item label=\"banner类型\" prop=\"bannerTypeEnName\">\n          <el-select size=\"small\" v-model=\"ruleForm.bannerTypeEnName\" placeholder=\"请选择banner类型\"\n                     @change=\"getbannerTypeEnName('ruleForm')\" style=\"width:100%;\">\n            <el-option :label=\"item.label\" :value=\"item.value\" v-for=\"(item, index) in bannerTypeList\"\n                       :key=\"index\"></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\" banner名称:\" prop=\"bannerName\">\n          <el-col>\n            <el-input size=\"small\" v-model=\"ruleForm.bannerName\" placeholder=\"请输入banner名称\"></el-input>\n          </el-col>\n        </el-form-item>\n        <el-form-item label=\"跳转链接:\" prop=\"jumpUrl\">\n          <el-col>\n            <el-input size=\"small\" v-model=\"ruleForm.jumpUrl\" placeholder=\"请输入跳转链接\"></el-input>\n          </el-col>\n        </el-form-item>\n        <el-form-item label=\"权重:\">\n          <el-col>\n            <el-input-number size=\"small\" v-model=\"ruleForm.weight\" :min=\"1\" label=\"请输入权重\"></el-input-number>\n          </el-col>\n        </el-form-item>\n        <el-form-item label=\"备注:\">\n          <el-col>\n            <el-input size=\"small\" v-model=\"ruleForm.remark\" placeholder=\"请输入备注\"></el-input>\n          </el-col>\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" style=\"width: 100px\" size=\"small\" @click.native=\"determine\">确定</el-button>\n        </el-form-item>\n      </el-form>\n    </el-dialog>\n  </div>\n</template>\n<style>\n\n</style>\n<script>\n  export default {\n    name: 'banner',\n    data() {\n      return {\n        filterForm: {\n          bannerType: 'None',\n          pageNum: 1,\n          pageSize: 20\n        },\n        listData: {\n          total: null,\n          list: [],\n        },\n        bannerTypeList: [],\n        isShowAddDialog: false,\n        ruleForm: {\n          bannerUrl: \"\",\n          bannerTypeEnName: \"\",\n          bannerName: \"\",\n          jumpUrl: \"\",\n          weight: \"\",\n          bannerType: \"\",\n          remark: \"\"\n        },\n        dialogTitle: '',\n        rules: {\n          bannerUrl: [\n            { required: true, message: '请输入banner图片地址', trigger: 'blur' },\n          ],\n          bannerName: [\n            { required: true, message: '请选择banner名称', trigger: 'change' }\n          ],\n          bannerTypeEnName: [\n            { required: true, message: '请选择banner类型', trigger: 'change' }\n          ],\n          jumpUrl: [\n            { required: false, message: '请输入跳转链接', trigger: 'blur' }\n          ],\n        },\n        server_path: \"\",\n        bannerTypeCode: \"\",\n      };\n    },\n    methods: {\n      resetForm() {\n        this.ruleForm = {\n          bannerUrl: \"\",\n          bannerTypeEnName: \"\",\n          bannerName: \"\",\n          jumpUrl: \"\",\n          weight: \"\",\n          bannerType: \"\",\n          remark: \"\"\n        };\n        this.bannerTypeCode = '';\n        this.$refs.ruleForm && this.$refs.ruleForm.resetFields(); // 重置query的数据\n      },\n      submitForm(num) {\n        this.filterForm.pageNum = num;\n        this.getAppBannerInfos();\n      },\n      getPaginationChange(val, currentPage) {\n        this.filterForm.pageSize = val;\n        this.submitForm(currentPage);\n      },\n      getAppBannerInfos() {\n        this.$http.post(\"wallet/backmgr/banner/getAppBannerInfos.do\", this.filterForm).then((res) => {\n          this.listData.list = res.result.list.list;\n          this.listData.total = res.result.list.total;\n        })\n      },\n      getBannerType() {\n        this.$http.post(\"wallet/backmgr/banner/getBannerType.do\", {\n          version: '1.0.0',\n          plat: 'web',\n        }).then((res) => {\n          const { list } = res.result;\n          list.forEach((item) => {\n            item.label = item.name;\n            item.value = item.bannerType;\n          })\n          this.bannerTypeList = list;\n        })\n      },\n      // 删除\n      remove(itemData) {\n        const { id, bannerName } = itemData;\n        this.$confirm(`确定删除 ${bannerName} 吗?`, '提示', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        }).then(() => {\n          this.$http.post(\"wallet/backmgr/banner/updateAppBannerInfoSysStatus.do\", {\n            sysStatus: \"INVALID0\",\n            id\n          }).then((res) => {\n            this.$notify({\n              title: '成功',\n              message: `删除 ${bannerName}成功`,\n              type: 'success'\n            });\n            this.getAppBannerInfos();\n          })\n        })\n      },\n      // 上下架\n      switchChange(itemData) {\n        const { isOnshelf, id, bannerName } = itemData;\n        this.$http.post(\"wallet/backmgr/banner/updateAppBannerInfoOnshelf.do\", {\n          isOnshelf: isOnshelf ? \"YES\" : \"NO\",\n          id\n        }).then((res) => {\n          this.$notify({\n            title: '成功',\n            message: `${bannerName} ${isOnshelf ? \"上架\" : \"下架\"} 成功`,\n            type: 'success'\n          });\n          this.getAppBannerInfos();\n        })\n      },\n      getbannerTypeEnName(type) {\n        this.bannerTypeList.forEach((item) => {\n          if (item.value == this[type].bannerTypeEnName) {\n            this.bannerTypeCode = item.code;\n          }\n        })\n      },\n      upload(response, file, fileList) {\n        this.ruleForm.bannerUrl = response.result.urls[0]\n      },\n      addBanner() {\n        this.resetForm();\n        this.dialogTitle = '创建banner';\n        this.isShowAddDialog = true;\n      },\n      modification(data) {\n        this.resetForm();\n        this.bannerTypeCode = data.bannerType;\n        this.isShowAddDialog = true;\n        this.ruleForm = JSON.parse(JSON.stringify(data));\n        this.dialogTitle = `修改 ${this.ruleForm.bannerName} 的banner`;\n      },\n      determine() {\n        this.$refs.ruleForm.validate((valid) => {\n          if (valid) {\n            if (this.ruleForm.id) {\n              const { bannerTypeEnName, id, bannerName, jumpUrl, bannerUrl, weight, remark } = this.ruleForm;\n              this.$http.post(\"wallet/backmgr/banner/updateAppBannerInfo.do\", {\n                bannerTypeEnName,\n                bannerType: this.bannerTypeCode,\n                id,\n                bannerName,\n                jumpUrl: jumpUrl || 'empty',\n                bannerUrl,\n                weight,\n                remark: remark || 'empty',\n              }).then((res) => {\n                this.resetForm();\n                this.isShowAddDialog = false;\n                this.$notify({\n                  title: '成功',\n                  message: `修改 ${bannerName} banner成功`,\n                  type: 'success'\n                });\n                this.getAppBannerInfos();\n              })\n            } else {\n              this.ruleForm.bannerType = this.bannerTypeCode;\n              this.$http.post(\"wallet/backmgr/banner/createAppBannerInfo.do\", this.ruleForm).then((res) => {\n                this.$notify({\n                  title: '成功',\n                  message: `创建 ${ this.ruleForm.bannerName} banner成功`,\n                  type: 'success'\n                });\n                this.isShowAddDialog = false\n                this.submitForm(1);\n              })\n            }\n          } else {\n            console.log('error submit!!');\n            return false;\n          }\n        });\n      },\n    },\n    activated() {\n      this.server_path = SERVER_PATH\n      this.getAppBannerInfos();\n      this.getBannerType();\n    }\n  };\n</script>\n<style lang=\"less\">\n  .banner {\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/banner/banner.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"banner\"},[_c('el-col',{staticStyle:{\"text-align\":\"right\"},attrs:{\"span\":22}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.addBanner}},[_vm._v(\"创建banner\")])],1),_vm._v(\" \"),_c('el-form',{ref:\"filterForm\",attrs:{\"inline\":true,\"label-width\":\"100px\",\"model\":_vm.filterForm}},[_c('el-form-item',{attrs:{\"label\":\"banner类型\"}},[_c('el-select',{attrs:{\"size\":\"small\",\"placeholder\":\"请选择banner类型\"},model:{value:(_vm.filterForm.bannerType),callback:function ($$v) {_vm.$set(_vm.filterForm, \"bannerType\", $$v)},expression:\"filterForm.bannerType\"}},_vm._l((_vm.bannerTypeList),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}))],1),_vm._v(\" \"),_c('sac-submit-form',{attrs:{\"isReset\":false},on:{\"submitForm\":function($event){_vm.submitForm(1)}}})],1),_vm._v(\" \"),_c('sac-table',{attrs:{\"data\":_vm.listData.list}},[_c('el-table-column',{attrs:{\"prop\":\"weight\",\"label\":\"权重\",\"width\":\"80\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"图片\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(!scope.row.bannerUrl.indexOf('http'))?_c('img',{staticStyle:{\"max-width\":\"100%\",\"max-height\":\"150px\"},attrs:{\"src\":scope.row.bannerUrl,\"alt\":\"图片存储地址不存在\"}}):_vm._e(),_vm._v(\" \"),(scope.row.bannerUrl.indexOf('http'))?_c('span',[_vm._v(_vm._s(scope.row.bannerUrl))]):_vm._e()]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"bannerTypeName\",\"label\":\"banner类型\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"bannerName\",\"label\":\"banner名称\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"jumpUrl\",\"label\":\"跳转链接\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('a',{attrs:{\"target\":\"_brank\",\"href\":scope.row.jumpUrl}},[_vm._v(_vm._s(scope.row.jumpUrl))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"remark\",\"label\":\"备注\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"createTime\",\"label\":\"创建时间\",\"width\":\"170\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"160\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"disabled\":scope.row.isOnshelf != 0,\"size\":\"small\"},nativeOn:{\"click\":function($event){_vm.modification(scope.row)}}},[_vm._v(\"修改\\n        \")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"danger\",\"disabled\":scope.row.isOnshelf != 0,\"size\":\"small\"},nativeOn:{\"click\":function($event){_vm.remove(scope.row)}}},[_vm._v(\"删除\\n        \")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"上架\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-switch',{attrs:{\"inactive-value\":0,\"active-value\":1},nativeOn:{\"click\":function($event){_vm.switchChange(scope.row)}},model:{value:(scope.row.isOnshelf),callback:function ($$v) {_vm.$set(scope.row, \"isOnshelf\", $$v)},expression:\"scope.row.isOnshelf\"}})]}}])})],1),_vm._v(\" \"),_c('sac-pagination',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.listData.list.length>0),expression:\"listData.list.length>0\"}],attrs:{\"total\":+_vm.listData.total,\"page-size\":_vm.filterForm.pageSize,\"current-page\":_vm.filterForm.pageNum},on:{\"handleChange\":_vm.getPaginationChange}}),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":_vm.dialogTitle,\"visible\":_vm.isShowAddDialog},on:{\"update:visible\":function($event){_vm.isShowAddDialog=$event}}},[_c('el-form',{ref:\"ruleForm\",attrs:{\"model\":_vm.ruleForm,\"rules\":_vm.rules,\"label-width\":\"110px\"}},[_c('el-form-item',{attrs:{\"label\":\"banner图片:\",\"prop\":\"bannerUrl\"}},[_c('el-col',[_c('el-input',{attrs:{\"size\":\"small\",\"placeholder\":\"请选择上传\"},model:{value:(_vm.ruleForm.bannerUrl),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"bannerUrl\", $$v)},expression:\"ruleForm.bannerUrl\"}},[_c('el-upload',{attrs:{\"slot\":\"append\",\"action\":_vm.server_path + 'wallet/util/open/uploadFile.do',\"multiple\":\"\",\"name\":\"files\",\"data\":{type:'img'},\"show-file-list\":false,\"on-success\":_vm.upload},slot:\"append\"},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"}},[_vm._v(\"点击上传\")])],1)],1)],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"banner类型\",\"prop\":\"bannerTypeEnName\"}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"size\":\"small\",\"placeholder\":\"请选择banner类型\"},on:{\"change\":function($event){_vm.getbannerTypeEnName('ruleForm')}},model:{value:(_vm.ruleForm.bannerTypeEnName),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"bannerTypeEnName\", $$v)},expression:\"ruleForm.bannerTypeEnName\"}},_vm._l((_vm.bannerTypeList),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.label,\"value\":item.value}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\" banner名称:\",\"prop\":\"bannerName\"}},[_c('el-col',[_c('el-input',{attrs:{\"size\":\"small\",\"placeholder\":\"请输入banner名称\"},model:{value:(_vm.ruleForm.bannerName),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"bannerName\", $$v)},expression:\"ruleForm.bannerName\"}})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"跳转链接:\",\"prop\":\"jumpUrl\"}},[_c('el-col',[_c('el-input',{attrs:{\"size\":\"small\",\"placeholder\":\"请输入跳转链接\"},model:{value:(_vm.ruleForm.jumpUrl),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"jumpUrl\", $$v)},expression:\"ruleForm.jumpUrl\"}})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"权重:\"}},[_c('el-col',[_c('el-input-number',{attrs:{\"size\":\"small\",\"min\":1,\"label\":\"请输入权重\"},model:{value:(_vm.ruleForm.weight),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"weight\", $$v)},expression:\"ruleForm.weight\"}})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"备注:\"}},[_c('el-col',[_c('el-input',{attrs:{\"size\":\"small\",\"placeholder\":\"请输入备注\"},model:{value:(_vm.ruleForm.remark),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"remark\", $$v)},expression:\"ruleForm.remark\"}})],1)],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{staticStyle:{\"width\":\"100px\"},attrs:{\"type\":\"primary\",\"size\":\"small\"},nativeOn:{\"click\":function($event){return _vm.determine($event)}}},[_vm._v(\"确定\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-06b3b88c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/banner/banner.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-06b3b88c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./banner.vue\")\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-06b3b88c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=1!./banner.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./banner.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./banner.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-06b3b88c\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./banner.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/banner/banner.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}
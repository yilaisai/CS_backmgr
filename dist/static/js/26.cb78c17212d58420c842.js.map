{"version":3,"sources":["webpack:///src/pages/configurable/client.vue","webpack:///./src/pages/configurable/client.vue?6f6d","webpack:///./src/pages/configurable/client.vue"],"names":["client","name","data","list","ruleForm","version","downUrl","dialogTitle","dialogFormVisible","methods","getAppVersionInfoList","_this","this","pageNum","pageSize","$http","post","then","res","result","updateAppversionInfoForceUpdate","itemData","_this2","isForceUpdate","forceUpdate","versionId","id","$notify","title","message","msg","type","switchChange","_this3","isOnshelf","isOnShelf","modification","plat","$refs","resetFields","JSON","parse","stringify_default","determine","_this4","validate","valid","activated","configurable_client","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","label","scopedSlots","_u","key","fn","scope","_v","_s","row","prop","width","size","nativeOn","click","$event","inactive-value","active-value","model","value","callback","$$v","$set","expression","visible","on","update:visible","ref","label-width","placeholder","slot","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/26.cb78c17212d58420c842.js","sourcesContent":["/**\n*  Created by   阿紫\n*  On  2018/8/10\n*  Content 客户端版本\n*/\n<template>\n  <div class='client'>\n    <sac-table :data=\"list\">\n      <el-table-column label=\"系统\">\n        <template slot-scope=\"scope\">\n          <span>{{scope.row.plat == 2 ? 'iOS' : (scope.row.plat == 1 ? 'android' : '')}}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"版本号\" prop=\"version\"></el-table-column>\n      <el-table-column prop=\"downUrl\" label=\"下载链接\"></el-table-column>\n      <el-table-column prop=\"updateTime\" label=\"更新时间\" width=\"100\"></el-table-column>\n      <el-table-column label=\"操作\" width=\"160\">\n        <template slot-scope=\"scope\">\n          <el-button type=\"success\" size=\"small\" @click.native=\"modification(scope.row)\">修改</el-button>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"强制更新\" width=\"100\">\n        <template slot-scope=\"scope\" prop=\"forceUpdate\">\n          <el-switch v-model=\"scope.row.forceUpdate\" :inactive-value=\"0\" :active-value=\"1\"\n                     @click.native=\"updateAppversionInfoForceUpdate(scope.row)\"></el-switch>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"上架\" width=\"100\">\n        <template slot-scope=\"scope\" prop=\"isOnShelf\">\n          <el-switch v-model=\"scope.row.isOnShelf\" :inactive-value=\"0\" :active-value=\"1\"\n                     @click.native=\"switchChange(scope.row)\"></el-switch>\n        </template>\n      </el-table-column>\n    </sac-table>\n    <el-dialog :title=\"dialogTitle\" :visible.sync=\"dialogFormVisible\">\n      <el-form :model=\"ruleForm\" ref=\"ruleForm\"  label-width=\"130px\">\n        <el-form-item label=\"版本号：\" prop=\"version\">\n          <el-input size=\"small\" v-model=\"ruleForm.version\" placeholder=\"请输入版本号\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"下载链接：\" prop=\"version\">\n          <el-input size=\"small\" v-model=\"ruleForm.downUrl\" placeholder=\"请输入下载链接\"></el-input>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogFormVisible = false\" size=\"small\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"determine\" size=\"small\">确 定</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\n  export default {\n    name: 'client',\n    data() {\n      return {\n        list: [],\n        ruleForm: {\n          version: \"\",\n          downUrl: ''\n        },\n        dialogTitle: '修改',\n        dialogFormVisible: false,\n      };\n    },\n    methods: {\n      getAppVersionInfoList() {\n        const { pageNum, pageSize } = this;\n        this.$http.post(\"wallet/backmgr/version/getAppVersionInfoList.do\").then((res) => {\n          const { list } = res.result.list;\n          this.list = list;\n        })\n      },\n      // 是否强制更新\n      updateAppversionInfoForceUpdate(itemData) {\n        this.$http.post(\"wallet/backmgr/version/updateAppversionInfoForceUpdate.do\", {\n          isForceUpdate: itemData.forceUpdate ? \"YES\" : \"NO\",\n          versionId: itemData.id\n        }).then((res) => {\n          this.$notify({\n            title: '成功',\n            message: res.msg,\n            type: 'success'\n          });\n          this.getAppVersionInfoList();\n        })\n      },\n      // 上下架\n      switchChange(itemData) {\n        this.$http.post(\"wallet/backmgr/version/updateAppVersionInfoOnshelf.do\", {\n          isOnshelf: itemData.isOnShelf ? \"YES\" : \"NO\",\n          versionId: itemData.id\n        }).then((res) => {\n          this.$notify({\n            title: '成功',\n            message: res.msg,\n            type: 'success'\n          });\n          this.getAppVersionInfoList();\n        })\n      },\n      modification(itemData) {\n        this.dialogTitle = `修改${itemData.plat == 2?'iOS':'android'}`;\n        this.dialogFormVisible = true;\n        this.$refs.ruleForm && this.$refs.ruleForm.resetFields();\n        this.ruleForm = JSON.parse(JSON.stringify(itemData));\n      },\n      determine() {\n        this.$refs.ruleForm.validate((valid) => {\n          if (valid) {\n            this.$http.post(\"wallet/backmgr/version/updateAppversionInfo.do\", {\n              plat: this.ruleForm.plat == 2 ? 'ios' : 'adr',\n              versionId: this.ruleForm.id,\n              version: this.ruleForm.version || 'empty',\n              downUrl: this.ruleForm.downUrl || 'empty'\n            }).then((res) => {\n              this.$notify({\n                title: '成功',\n                message: `修改成功`,\n                type: 'success'\n              });\n              this.dialogFormVisible = false;\n              this.getAppVersionInfoList();\n            })\n          } else {\n            console.log('error submit!!');\n            return false;\n          }\n        });\n      }\n\n    },\n    activated() {\n      this.getAppVersionInfoList();\n    }\n  };\n</script>\n<style lang=\"less\">\n  .client {\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/configurable/client.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"client\"},[_c('sac-table',{attrs:{\"data\":_vm.list}},[_c('el-table-column',{attrs:{\"label\":\"系统\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.plat == 2 ? 'iOS' : (scope.row.plat == 1 ? 'android' : '')))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"版本号\",\"prop\":\"version\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"downUrl\",\"label\":\"下载链接\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"updateTime\",\"label\":\"更新时间\",\"width\":\"100\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"160\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"success\",\"size\":\"small\"},nativeOn:{\"click\":function($event){_vm.modification(scope.row)}}},[_vm._v(\"修改\")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"强制更新\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-switch',{attrs:{\"inactive-value\":0,\"active-value\":1},nativeOn:{\"click\":function($event){_vm.updateAppversionInfoForceUpdate(scope.row)}},model:{value:(scope.row.forceUpdate),callback:function ($$v) {_vm.$set(scope.row, \"forceUpdate\", $$v)},expression:\"scope.row.forceUpdate\"}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"上架\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-switch',{attrs:{\"inactive-value\":0,\"active-value\":1},nativeOn:{\"click\":function($event){_vm.switchChange(scope.row)}},model:{value:(scope.row.isOnShelf),callback:function ($$v) {_vm.$set(scope.row, \"isOnShelf\", $$v)},expression:\"scope.row.isOnShelf\"}})]}}])})],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":_vm.dialogTitle,\"visible\":_vm.dialogFormVisible},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-form',{ref:\"ruleForm\",attrs:{\"model\":_vm.ruleForm,\"label-width\":\"130px\"}},[_c('el-form-item',{attrs:{\"label\":\"版本号：\",\"prop\":\"version\"}},[_c('el-input',{attrs:{\"size\":\"small\",\"placeholder\":\"请输入版本号\"},model:{value:(_vm.ruleForm.version),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"version\", $$v)},expression:\"ruleForm.version\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"下载链接：\",\"prop\":\"version\"}},[_c('el-input',{attrs:{\"size\":\"small\",\"placeholder\":\"请输入下载链接\"},model:{value:(_vm.ruleForm.downUrl),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"downUrl\", $$v)},expression:\"ruleForm.downUrl\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.dialogFormVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.determine}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-60359824\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/configurable/client.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-60359824\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./client.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./client.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./client.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-60359824\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./client.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/configurable/client.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}
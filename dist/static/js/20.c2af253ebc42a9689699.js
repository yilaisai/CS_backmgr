webpackJsonp([20],{"3F0K":function(t,e){},mRuS:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s={data:function(){return{defaultForm:{bg:1,verificationMode:1,payType:1},modes:[{label:"无验证",value:1},{label:"手机号验证",value:2},{label:"【付费】银行卡要素验证",value:3}],payModes:[{label:"需要标记",value:1},{label:"不需要标记",value:2},{label:"关联抢派单模式",value:3}],otcPayLists:[],form:{payType:"",ckLimitNum:"",ckSingleMax:"",ckLimitMax:"",isUseCheckout:""},areas:"",list:[],type:4,pageNum:1,pageSize:20,total:0}},activated:function(){this.getData(),this.getEnableAreas(),this.getList()},computed:{payType:function(){return this.form.payType}},methods:{getData:function(){var t=this;this.$http.post("/wallet/app/otc/backmgr/getPayList").then(function(e){t.otcPayLists=e.result,t.form.payType=t.form.payType||t.otcPayLists[0].payType})},save:function(){var t=this;this.$http.post("/wallet/app/otc/backmgr/modifyPayList",this.form).then(function(e){t.$notify.success({title:"提示",message:e.msg}),t.getData()})},getEnableAreas:function(){var t=this;this.$http.post("/wallet/backmgr/sys/getEnableAreas").then(function(e){t.destxt=e.result.destxt,t.areas=e.result.paramValue})},updateEnableAreas:function(){var t=this;this.$http.post("/wallet/backmgr/sys/updateEnableAreas",{areas:this.areas}).then(function(e){t.$notify({title:"成功",message:e.msg,type:"success"}),t.getEnableAreas()})},getList:function(){var t=this;this.list=[],this.$http.post("/wallet/app/otc/backmgr/domain/list",{payType:this.type,pageNum:this.pageNum,pageSize:this.pageSize}).then(function(e){200==e.code&&(t.list=e.result.list.list,t.total=e.result.list.total)})},handleCurrentChange:function(t){this.pageNum=t,this.getList()},handleSizeChange:function(t){this.pageSize=t,this.getList()},checkedPayType:function(t){this.type!=t&&(this.type=t,this.pageNum=1,this.getList())},updateStatus:function(t){var e=this,a=0;this.list.forEach(function(t){1==t.status&&(a+=1)}),1==a&&1==t.status?this.$confirm("当前只有一台服务器开启中，若关闭则无服务器开启，确定关闭？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.update(t)}).catch(function(){}):this.update(t)},update:function(t){var e=this;this.$http.post("/wallet/app/otc/backmgr/domain/updateStatus",{status:1==t.status?0:1,id:t.id}).then(function(t){200==t.code&&(e.$notify({title:"成功",message:"修改成功",type:"success"}),e.getList())})},indexMethod:function(t){return t+1},changeBg:function(t){},changeMode:function(t){},changePayType:function(t){}},watch:{payType:function(t,e){var a=this;this.otcPayLists.forEach(function(e,s){t===e.payType&&(a.form.ckLimitNum=a.otcPayLists[s].ckLimitNum,a.form.ckSingleMax=a.otcPayLists[s].ckSingleMax,a.form.ckLimitMax=a.otcPayLists[s].ckLimitMax,a.form.isUseCheckout=a.otcPayLists[s].isUseCheckout.toString())})}}},l={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"risk-manage"},[s("el-tabs",{attrs:{type:"border-card"}},[s("el-tab-pane",{attrs:{label:"收银台默认设置"}},[s("el-form",{ref:"defaultForm",staticClass:"defaultForm",attrs:{model:t.defaultForm,inline:!0,"label-width":"140px",size:"small"}},[s("el-form-item",{attrs:{label:"默认皮肤："}},[s("div",{staticClass:"radioBox"},[s("img",{staticStyle:{width:"100px"},attrs:{src:a("ys0R"),alt:""}}),t._v(" "),s("el-radio",{attrs:{label:1},on:{change:t.changeBg},model:{value:t.defaultForm.bg,callback:function(e){t.$set(t.defaultForm,"bg",e)},expression:"defaultForm.bg"}},[t._v("皮肤1")])],1),t._v(" "),s("div",{staticClass:"radioBox"},[s("img",{staticStyle:{width:"100px"},attrs:{src:a("ys0R"),alt:""}}),t._v(" "),s("el-radio",{attrs:{label:2},on:{change:t.changeBg},model:{value:t.defaultForm.bg,callback:function(e){t.$set(t.defaultForm,"bg",e)},expression:"defaultForm.bg"}},[t._v("皮肤2")])],1)]),t._v(" "),s("el-form-item",{attrs:{label:"默认验证方式："}},[s("el-radio-group",{on:{change:t.changeMode},model:{value:t.defaultForm.verificationMode,callback:function(e){t.$set(t.defaultForm,"verificationMode",e)},expression:"defaultForm.verificationMode"}},t._l(t.modes,function(e){return s("el-radio",{key:e.value,attrs:{label:e.value}},[t._v(t._s(e.label))])}),1)],1),t._v(" "),s("el-form-item",{attrs:{label:"是否标记已付款："}},[s("el-radio-group",{on:{change:t.changePayType},model:{value:t.defaultForm.payType,callback:function(e){t.$set(t.defaultForm,"payType",e)},expression:"defaultForm.payType"}},t._l(t.payModes,function(e){return s("el-radio",{key:e.value,attrs:{label:e.value}},[t._v(t._s(e.label))])}),1)],1)],1),t._v(" "),s("p",{staticClass:"tips"},[t._v("注：默认收银台支持全部启用中的支付通道")])],1)],1),t._v(" "),s("el-tabs",{attrs:{type:"border-card"}},[s("el-tab-pane",{attrs:{label:"支付通道设置"}},[s("el-form",{ref:"form",attrs:{model:t.form,inline:!0,"label-width":"140px",size:"small"}},[s("el-form-item",{attrs:{label:"支付方式："}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.payType,callback:function(e){t.$set(t.form,"payType",e)},expression:"form.payType"}},t._l(t.otcPayLists,function(t){return s("el-option",{key:t.payType,attrs:{label:t.description,value:t.payType}})}),1)],1),t._v(" "),s("br"),t._v(" "),s("el-form-item",{attrs:{label:"是否启用："}},[s("el-switch",{attrs:{"active-color":"#13ce66","active-value":"1","inactive-value":"0"},model:{value:t.form.isUseCheckout,callback:function(e){t.$set(t.form,"isUseCheckout",e)},expression:"form.isUseCheckout"}})],1),t._v(" "),s("br"),t._v(" "),s("el-form-item",{attrs:{label:"笔数限制："}},[s("el-input",{attrs:{type:"number",min:"0"},model:{value:t.form.ckLimitNum,callback:function(e){t.$set(t.form,"ckLimitNum","string"==typeof e?e.trim():e)},expression:"form.ckLimitNum"}})],1),t._v(" "),s("br"),t._v(" "),s("el-form-item",{attrs:{label:"单笔金额上限："}},[s("el-input",{attrs:{type:"number",min:"0"},model:{value:t.form.ckSingleMax,callback:function(e){t.$set(t.form,"ckSingleMax","string"==typeof e?e.trim():e)},expression:"form.ckSingleMax"}})],1),t._v(" "),s("br"),t._v(" "),s("el-form-item",{attrs:{label:"每日总金额上限："}},[s("el-input",{attrs:{type:"number",min:t.form.ckLimitMin},model:{value:t.form.ckLimitMax,callback:function(e){t.$set(t.form,"ckLimitMax","string"==typeof e?e.trim():e)},expression:"form.ckLimitMax"}})],1)],1)],1),t._v(" "),s("el-button",{staticClass:"save",attrs:{type:"primary"},on:{click:t.save}},[t._v("保存修改")])],1),t._v(" "),s("el-tabs",{attrs:{type:"border-card"}},[s("el-tab-pane",{attrs:{label:"地区访问设置"}},[s("el-input",{attrs:{type:"textarea",rows:10,placeholder:"请输入您允许访问收银台的地区，用“,”号分隔"},model:{value:t.areas,callback:function(e){t.areas=e},expression:"areas"}})],1),t._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:t.updateEnableAreas}},[t._v("保存修改")]),t._v(" "),s("p",{staticClass:"tips"},[t._v("输入您允许访问收银台的地区,多个地区之间用 “,” 号分隔")])],1),t._v(" "),s("div",{staticClass:"domainNameList-page"},[s("ul",{staticClass:"tabs"},[s("li",{class:4==t.type?"active":"",on:{click:function(e){return t.checkedPayType(4)}}},[t._v("宝转卡中转域名")]),t._v(" "),s("li",{class:3==t.type?"active":"",on:{click:function(e){return t.checkedPayType(3)}}},[t._v("微信中转域名")]),t._v(" "),s("li",{class:2==t.type?"active":"",on:{click:function(e){return t.checkedPayType(2)}}},[t._v("支付宝中转域名")])]),t._v(" "),s("el-table",{attrs:{stripe:"",border:"",height:"500px",size:"mini",data:t.list}},[s("el-table-column",{attrs:{type:"index",label:"序号",index:t.indexMethod,align:"center"}}),t._v(" "),s("el-table-column",{attrs:{prop:"domainName",label:"服务器域名",align:"center"}}),t._v(" "),s("el-table-column",{attrs:{prop:"createTime",label:"添加时间",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                        "+t._s(t.$fmtDate(e.row.createTime,"full"))+"\n                    ")]}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"updateTime",label:"上次使用时间",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                        "+t._s(t.$fmtDate(e.row.lastStartTime,"full"))+"\n                    ")]}}])}),t._v(" "),s("el-table-column",{attrs:{label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",{class:1==e.row.status?"status1":"status2"},[t._v(t._s(1==e.row.status?"已开启":"已关闭"))])]}}])}),t._v(" "),s("el-table-column",{attrs:{label:"操作",fixed:"right",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-button",{attrs:{size:"mini",type:0==e.row.status?"primary":"warning"},on:{click:function(a){return t.updateStatus(e.row)}}},[t._v(t._s(1==e.row.status?"关闭":"开启"))])]}}])})],1),t._v(" "),s("el-pagination",{attrs:{"current-page":t.pageNum,"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:1*t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var i=a("C7Lr")(s,l,!1,function(t){a("3F0K")},"data-v-6443011e",null);e.default=i.exports},ys0R:function(t,e){t.exports="data:image/png;base64,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"}});
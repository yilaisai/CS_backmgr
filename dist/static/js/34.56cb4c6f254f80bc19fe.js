webpackJsonp([34],{F9j6:function(e,t){throw new Error("Module build failed: ModuleBuildError: Module build failed: Error: Cannot find module 'tslib'\n    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:594:15)\n    at Function.Module._load (internal/modules/cjs/loader.js:520:25)\n    at Module.require (internal/modules/cjs/loader.js:650:17)\n    at require (internal/modules/cjs/helpers.js:20:18)\n    at Object.<anonymous> (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_less@3.11.0@less\\dist\\less.cjs.js:3:13)\n    at Module._compile (internal/modules/cjs/loader.js:702:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:713:10)\n    at Module.load (internal/modules/cjs/loader.js:612:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:551:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:543:3)\n    at Module.require (internal/modules/cjs/loader.js:650:17)\n    at require (internal/modules/cjs/helpers.js:20:18)\n    at Object.<anonymous> (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_less@3.11.0@less\\index.js:1:80)\n    at Module._compile (internal/modules/cjs/loader.js:702:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:713:10)\n    at Module.load (internal/modules/cjs/loader.js:612:32)\n    at runLoaders (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_webpack@3.12.0@webpack\\lib\\NormalModule.js:195:19)\n    at E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\LoaderRunner.js:367:11\n    at E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\LoaderRunner.js:172:11\n    at loadLoader (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\loadLoader.js:32:11)\n    at iteratePitchingLoaders (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\LoaderRunner.js:169:2)\n    at iteratePitchingLoaders (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\LoaderRunner.js:165:10)\n    at E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\LoaderRunner.js:176:18\n    at loadLoader (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\loadLoader.js:47:3)\n    at iteratePitchingLoaders (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\LoaderRunner.js:169:2)\n    at iteratePitchingLoaders (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\LoaderRunner.js:165:10)\n    at E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\LoaderRunner.js:176:18\n    at loadLoader (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\loadLoader.js:47:3)\n    at iteratePitchingLoaders (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\LoaderRunner.js:169:2)\n    at runLoaders (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\LoaderRunner.js:365:2)\n    at NormalModule.doBuild (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_webpack@3.12.0@webpack\\lib\\NormalModule.js:182:3)\n    at NormalModule.build (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_webpack@3.12.0@webpack\\lib\\NormalModule.js:275:15)")},"bb+M":function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l("3cXf"),a=l.n(r),o={name:"message",data:function(){return{filterForm:{type:"",status:"",curPage:1,pageSize:20},listData:{total:null,list:[]},noticeTypeList:[{value:"",label:"全部消息"},{value:"0",label:"系统消息"},{value:"1",label:"运营消息"},{value:"2",label:"动账消息"}],statusList:[{value:"",label:"全部状态"},{value:"1",label:"上架"},{value:"0",label:"下架"}],dialogTitle:"新增公告",dialogFormVisible:!1,ruleForm:{type:"",title:"",content:""},rules:{type:[{required:!0,message:"请选择公告类型",trigger:"change"}],title:[{required:!0,message:"请输入标题",trigger:"blur"},{min:1,max:15,message:"长度在 1 到 15 个字符",trigger:"blur"}],content:[{required:!0,message:"请输入内容",trigger:"blur"},{min:1,max:50,message:"长度在 1 到 50 个字符",trigger:"blur"}]},coinList:[]}},methods:{resetForm:function(){this.$refs.ruleForm&&this.$refs.ruleForm.resetFields()},submitForm:function(e){this.filterForm.curPage=e,this.getNoticeInfoList()},getPaginationChange:function(e,t){this.filterForm.pageSize=e,this.submitForm(t)},getNoticeInfoList:function(){var e=this;this.$http.post("supernode/backmgr/notice/getNoticeList",this.filterForm).then(function(t){var l=t.result,r=l.list,a=l.total;r.forEach(function(e){e.isLoading=!1}),e.listData.list=r,e.listData.total=a})},switchChange:function(e){var t=this,l=e.lockStatus,r=e.id;e.title;this.$http.post("supernode/backmgr/notice/updateNoticeStatus",{status:l?"1":"0",id:r}).then(function(e){t.$notify({title:"成功",message:(l?"上架":"下架")+" 成功",type:"success"}),t.getNoticeInfoList()})},addMessage:function(){this.dialogTitle="新增公告",this.dialogFormVisible=!0,this.ruleForm={type:"",title:"",content:""},this.resetForm()},modification:function(e){this.dialogTitle="修改公告",this.dialogFormVisible=!0,this.resetForm(),e=JSON.parse(a()(e)),this.ruleForm={id:e.id,type:""+e.type,title:e.title,content:e.content}},determine:function(){var e=this;this.$refs.ruleForm.validate(function(t){if(!t)return!1;var l=JSON.parse(a()(e.ruleForm));e.ruleForm.id?e.$http.post("supernode/backmgr/notice/updateNotice",l).then(function(t){e.$notify({title:"成功",message:"修改成功",type:"success"}),e.dialogFormVisible=!1,e.getNoticeInfoList()}):e.$http.post("supernode/backmgr/notice/createNotice",l).then(function(t){e.$notify({title:"成功",message:"创建成功",type:"success"}),e.dialogFormVisible=!1,e.getNoticeInfoList()})})}},activated:function(){this.getNoticeInfoList()}},n={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"message"},[l("el-col",{staticStyle:{"text-align":"right"},attrs:{span:22}},[l("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.addMessage}},[e._v("新增公告")])],1),e._v(" "),l("el-form",{ref:"filterForm",attrs:{inline:!0,"label-width":"100px",model:e.filterForm}},[l("sac-select",{ref:"type",attrs:{label:"公告类型",dataList:e.noticeTypeList},model:{value:e.filterForm.type,callback:function(t){e.$set(e.filterForm,"type",t)},expression:"filterForm.type"}}),e._v(" "),l("sac-select",{ref:"type",attrs:{label:"状态",dataList:e.statusList},model:{value:e.filterForm.status,callback:function(t){e.$set(e.filterForm,"status",t)},expression:"filterForm.status"}}),e._v(" "),l("sac-submit-form",{attrs:{isReset:!1},on:{submitForm:function(t){return e.submitForm(1)}}})],1),e._v(" "),l("sac-table",{attrs:{data:e.listData.list}},[l("el-table-column",{attrs:{prop:"title",label:"标题"}}),e._v(" "),l("el-table-column",{attrs:{prop:"type",label:"公告类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s("2"==t.row.type?"动账消息":"1"==t.row.type?"运营消息":"系统消息")+"\n      ")]}}])}),e._v(" "),l("el-table-column",{attrs:{prop:"content",label:"内容"}}),e._v(" "),l("el-table-column",{attrs:{label:"发送日期",width:"150px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(e._f("dateFormat")(t.row.createTime,"YYYY-MM-DD HH:mm"))+"\n      ")]}}])}),e._v(" "),l("el-table-column",{attrs:{label:"操作",width:"150px"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-button",{attrs:{type:"primary",disabled:1==t.row.lockStatus,size:"small",loading:t.row.isLoading},nativeOn:{click:function(l){return e.modification(t.row,t.$index)}}},[e._v("修改\n        ")])]}}])}),e._v(" "),l("el-table-column",{attrs:{label:"上架",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-switch",{attrs:{"inactive-value":0,"active-value":1},nativeOn:{click:function(l){return e.switchChange(t.row)}},model:{value:t.row.lockStatus,callback:function(l){e.$set(t.row,"lockStatus",l)},expression:"scope.row.lockStatus"}})]}}])})],1),e._v(" "),l("sac-pagination",{directives:[{name:"show",rawName:"v-show",value:e.listData.list.length>0,expression:"listData.list.length>0"}],attrs:{total:+e.listData.total,"page-size":e.filterForm.pageSize,"current-page":e.filterForm.pageNum},on:{handleChange:e.getPaginationChange}}),e._v(" "),l("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[l("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,"label-width":"140px",rules:e.rules}},[l("el-form-item",{attrs:{label:"公告标题:",required:"",prop:"title"}},[l("el-col",{staticStyle:{position:"relative"},attrs:{span:16}},[l("span",{staticClass:"tips tips_input"},[e._v(e._s(e.ruleForm.title.length)+"/15")]),e._v(" "),l("el-input",{attrs:{size:"small",maxlength:"15",placeholder:"请输入公告标题"},model:{value:e.ruleForm.title,callback:function(t){e.$set(e.ruleForm,"title",t)},expression:"ruleForm.title"}})],1)],1),e._v(" "),l("el-form-item",{attrs:{label:"公告内容:",required:"",prop:"content"}},[l("el-col",{staticStyle:{position:"relative"},attrs:{span:16}},[l("span",{staticClass:"tips tips_textarea"},[e._v(e._s(e.ruleForm.content.length)+"/50")]),e._v(" "),l("el-input",{attrs:{size:"small",type:"textarea",rows:4,width:"100%",maxlength:"50",placeholder:"请输入公告内容"},model:{value:e.ruleForm.content,callback:function(t){e.$set(e.ruleForm,"content",t)},expression:"ruleForm.content"}})],1)],1),e._v(" "),l("el-form-item",{attrs:{label:"公告类型:",prop:"type",required:""}},[l("el-select",{attrs:{size:"small",placeholder:"请选择公告类型"},model:{value:e.ruleForm.type,callback:function(t){e.$set(e.ruleForm,"type",t)},expression:"ruleForm.type"}},[l("el-option",{attrs:{label:"系统消息",value:"0"}}),e._v(" "),l("el-option",{attrs:{label:"运营消息",value:"1"}}),e._v(" "),l("el-option",{attrs:{label:"动账消息",value:"2"}})],1)],1)],1),e._v(" "),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),l("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.determine}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var s=l("C7Lr")(o,n,!1,function(e){l("F9j6")},null,null);t.default=s.exports}});
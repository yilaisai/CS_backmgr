webpackJsonp([4],{"1PbG":function(e,t){throw new Error("Module build failed: ModuleBuildError: Module build failed: Error: Cannot find module 'tslib'\n    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:594:15)\n    at Function.Module._load (internal/modules/cjs/loader.js:520:25)\n    at Module.require (internal/modules/cjs/loader.js:650:17)\n    at require (internal/modules/cjs/helpers.js:20:18)\n    at Object.<anonymous> (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_less@3.11.0@less\\dist\\less.cjs.js:3:13)\n    at Module._compile (internal/modules/cjs/loader.js:702:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:713:10)\n    at Module.load (internal/modules/cjs/loader.js:612:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:551:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:543:3)\n    at Module.require (internal/modules/cjs/loader.js:650:17)\n    at require (internal/modules/cjs/helpers.js:20:18)\n    at Object.<anonymous> (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_less@3.11.0@less\\index.js:1:80)\n    at Module._compile (internal/modules/cjs/loader.js:702:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:713:10)\n    at Module.load (internal/modules/cjs/loader.js:612:32)\n    at runLoaders (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_webpack@3.12.0@webpack\\lib\\NormalModule.js:195:19)\n    at E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\LoaderRunner.js:367:11\n    at E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\LoaderRunner.js:172:11\n    at loadLoader (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\loadLoader.js:32:11)\n    at iteratePitchingLoaders (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\LoaderRunner.js:169:2)\n    at iteratePitchingLoaders (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\LoaderRunner.js:165:10)\n    at E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\LoaderRunner.js:176:18\n    at loadLoader (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\loadLoader.js:47:3)\n    at iteratePitchingLoaders (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\LoaderRunner.js:169:2)\n    at iteratePitchingLoaders (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\LoaderRunner.js:165:10)\n    at E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\LoaderRunner.js:176:18\n    at loadLoader (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\loadLoader.js:47:3)\n    at iteratePitchingLoaders (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\LoaderRunner.js:169:2)\n    at runLoaders (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\LoaderRunner.js:365:2)\n    at NormalModule.doBuild (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_webpack@3.12.0@webpack\\lib\\NormalModule.js:182:3)\n    at NormalModule.build (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_webpack@3.12.0@webpack\\lib\\NormalModule.js:275:15)")},Eaif:function(e,t){throw new Error("Module build failed: ModuleBuildError: Module build failed: Error: Cannot find module 'tslib'\n    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:594:15)\n    at Function.Module._load (internal/modules/cjs/loader.js:520:25)\n    at Module.require (internal/modules/cjs/loader.js:650:17)\n    at require (internal/modules/cjs/helpers.js:20:18)\n    at Object.<anonymous> (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_less@3.11.0@less\\dist\\less.cjs.js:3:13)\n    at Module._compile (internal/modules/cjs/loader.js:702:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:713:10)\n    at Module.load (internal/modules/cjs/loader.js:612:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:551:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:543:3)\n    at Module.require (internal/modules/cjs/loader.js:650:17)\n    at require (internal/modules/cjs/helpers.js:20:18)\n    at Object.<anonymous> (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_less@3.11.0@less\\index.js:1:80)\n    at Module._compile (internal/modules/cjs/loader.js:702:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:713:10)\n    at Module.load (internal/modules/cjs/loader.js:612:32)\n    at runLoaders (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_webpack@3.12.0@webpack\\lib\\NormalModule.js:195:19)\n    at E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\LoaderRunner.js:367:11\n    at E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\LoaderRunner.js:172:11\n    at loadLoader (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\loadLoader.js:32:11)\n    at iteratePitchingLoaders (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\LoaderRunner.js:169:2)\n    at iteratePitchingLoaders (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\LoaderRunner.js:165:10)\n    at E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\LoaderRunner.js:176:18\n    at loadLoader (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\loadLoader.js:47:3)\n    at iteratePitchingLoaders (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\LoaderRunner.js:169:2)\n    at iteratePitchingLoaders (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\LoaderRunner.js:165:10)\n    at E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\LoaderRunner.js:176:18\n    at loadLoader (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\loadLoader.js:47:3)\n    at iteratePitchingLoaders (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\LoaderRunner.js:169:2)\n    at runLoaders (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\LoaderRunner.js:365:2)\n    at NormalModule.doBuild (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_webpack@3.12.0@webpack\\lib\\NormalModule.js:182:3)\n    at NormalModule.build (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_webpack@3.12.0@webpack\\lib\\NormalModule.js:275:15)")},JUI1:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("r/Zx"),r=a("Xrgp"),l=a("M4fv"),o={components:{addUser:n.a,MerchantList:r.a,UserList:l.a},data:function(){return{addUserShow:!1,formData:{create_time:"",groupName:"",name:""},pageData:{pageNum:1,pageSzie:20,total:3},multipleSelection:[],total:3,list:[{groupName:"默认",phone:"15179818328"},{groupName:"allbet",phone:"177939729"},{groupName:"ksx",phone:"15792797"},{groupName:"默认ksx",phone:"188397900"}],groupId:"",createTime:"",groupName:""}},activated:function(){this.groupId=this.$route.query.id+"",this.createTime=this.$route.query.createTime,this.groupName=this.$route.query.groupName},methods:{handleSelectionChange:function(e){this.multipleSelection=e},handleCurrentChange:function(e){this.pageNum=e},handleSizeChange:function(e){this.pageSize=e}},watch:{},computed:{}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"AuthorizedMerchantInfo-page"},[a("el-form",{ref:"form",attrs:{model:e.formData,"label-width":"85px",size:"mini",inline:""}},[a("el-form-item",{attrs:{label:"分组名称:"}},[a("el-input",{attrs:{disabled:"",value:e.groupName}})],1),e._v(" "),a("el-form-item",{attrs:{label:"创建时间:"}},[a("el-input",{attrs:{disabled:"",value:e.createTime}})],1)],1),e._v(" "),a("div",{staticClass:"main"},[a("MerchantList",{attrs:{groupId:e.groupId}}),e._v(" "),a("UserList",{attrs:{groupId:e.groupId}})],1),e._v(" "),a("addUser",{attrs:{show:e.addUserShow},on:{change:function(t){e.addUserShow=!1}}})],1)},staticRenderFns:[]};var d=a("C7Lr")(o,s,!1,function(e){a("1PbG")},"data-v-7dcc957c",null);t.default=d.exports},M4fv:function(e,t,a){"use strict";var n={components:{AddUser:a("r/Zx").a},props:{groupId:{type:String,default:""}},data:function(){return{pageData:{groupId:"",pageNum:1,pageSize:20},multipleSelection:[],total:3,list:[]}},activated:function(){var e=this;this.list=[],setTimeout(function(){""!==e.groupId&&(e.pageData.groupId=e.groupId,e.getData())},100)},methods:{getList:function(){return this.list},addData:function(e){this.list=this.list.concat(e)},getData:function(){var e=this;this.$http.post("/wallet/app/otc/backmgr/checkUserGroupRecdInfo",this.pageData).then(function(t){e.list=t.result.list,e.total=t.result.total})},checkedDelete:function(){var e="";this.multipleSelection.forEach(function(t){e+=t.userId+","}),this.subUserToGroup(e.substring(0,e.length-1))},subUserToGroup:function(e){var t=this;if(""!==this.groupId)this.$confirm("此操作将会将用户移出该分组，确定删除？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$http.post("/wallet/app/otc/backmgr/subUserToGroup",{groupId:t.groupId,userIds:e}).then(function(e){200==e.code?(t.$message.success(e.msg),t.getData()):t.$message.error(e.msg)})}).catch(function(){});else{var a=[];a=(e+"").indexOf(",")>-1?e.split(","):[e];var n=[];this.list.forEach(function(e,t){var r=!1;a.forEach(function(t){e.userId==t&&(r=!0)}),r||n.push(e)}),this.list=n}},handleSelectionChange:function(e){this.multipleSelection=e},handleCurrentChange:function(e){this.pageData.pageNum=e,this.getData()},handleSizeChange:function(e){this.pageData.pageSize=e,this.getData()}},watch:{},computed:{}},r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"userList-page"},[a("div",{staticClass:"title"},[a("span",[e._v("码商列表：")]),e._v(" "),a("p",[a("el-button",{attrs:{size:"mini",type:"danger",disabled:0==e.multipleSelection.length},on:{click:function(t){return e.checkedDelete()}}},[e._v(" 一键删除 ")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.$refs.AddUser.show(e.list,e.groupId)}}},[e._v(" 增加码商 ")])],1)]),e._v(" "),a("el-table",{attrs:{data:e.list,height:"auto",border:"",size:"mini"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{type:"index",width:"50",label:"序号",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"phone",label:"码商账户",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.phone||t.row.account))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"nickName",label:"码商昵称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"date",label:"操作",fixed:"right",width:"110",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){return e.subUserToGroup(t.row.userId)}}},[e._v(" 删除 ")])]}}])})],1),e._v(" "),a("el-pagination",{attrs:{"current-page":e.pageData.pageNum,"page-size":e.pageData.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:1*e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),a("AddUser",{ref:"AddUser",on:{addData:e.addData,success:e.getData}})],1)},staticRenderFns:[]};var l=a("C7Lr")(n,r,!1,function(e){a("Eaif")},"data-v-4ac15878",null);t.a=l.exports},OH8Y:function(e,t){throw new Error("Module build failed: ModuleBuildError: Module build failed: Error: Cannot find module 'tslib'\n    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:594:15)\n    at Function.Module._load (internal/modules/cjs/loader.js:520:25)\n    at Module.require (internal/modules/cjs/loader.js:650:17)\n    at require (internal/modules/cjs/helpers.js:20:18)\n    at Object.<anonymous> (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_less@3.11.0@less\\dist\\less.cjs.js:3:13)\n    at Module._compile (internal/modules/cjs/loader.js:702:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:713:10)\n    at Module.load (internal/modules/cjs/loader.js:612:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:551:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:543:3)\n    at Module.require (internal/modules/cjs/loader.js:650:17)\n    at require (internal/modules/cjs/helpers.js:20:18)\n    at Object.<anonymous> (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_less@3.11.0@less\\index.js:1:80)\n    at Module._compile (internal/modules/cjs/loader.js:702:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:713:10)\n    at Module.load (internal/modules/cjs/loader.js:612:32)\n    at runLoaders (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_webpack@3.12.0@webpack\\lib\\NormalModule.js:195:19)\n    at E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\LoaderRunner.js:367:11\n    at E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\LoaderRunner.js:172:11\n    at loadLoader (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\loadLoader.js:32:11)\n    at iteratePitchingLoaders (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\LoaderRunner.js:169:2)\n    at iteratePitchingLoaders (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\LoaderRunner.js:165:10)\n    at E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\LoaderRunner.js:176:18\n    at loadLoader (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\loadLoader.js:47:3)\n    at iteratePitchingLoaders (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\LoaderRunner.js:169:2)\n    at iteratePitchingLoaders (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\LoaderRunner.js:165:10)\n    at E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\LoaderRunner.js:176:18\n    at loadLoader (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\loadLoader.js:47:3)\n    at iteratePitchingLoaders (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\LoaderRunner.js:169:2)\n    at runLoaders (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\LoaderRunner.js:365:2)\n    at NormalModule.doBuild (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_webpack@3.12.0@webpack\\lib\\NormalModule.js:182:3)\n    at NormalModule.build (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_webpack@3.12.0@webpack\\lib\\NormalModule.js:275:15)")},VSnr:function(e,t){throw new Error("Module build failed: ModuleBuildError: Module build failed: Error: Cannot find module 'tslib'\n    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:594:15)\n    at Function.Module._load (internal/modules/cjs/loader.js:520:25)\n    at Module.require (internal/modules/cjs/loader.js:650:17)\n    at require (internal/modules/cjs/helpers.js:20:18)\n    at Object.<anonymous> (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_less@3.11.0@less\\dist\\less.cjs.js:3:13)\n    at Module._compile (internal/modules/cjs/loader.js:702:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:713:10)\n    at Module.load (internal/modules/cjs/loader.js:612:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:551:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:543:3)\n    at Module.require (internal/modules/cjs/loader.js:650:17)\n    at require (internal/modules/cjs/helpers.js:20:18)\n    at Object.<anonymous> (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_less@3.11.0@less\\index.js:1:80)\n    at Module._compile (internal/modules/cjs/loader.js:702:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:713:10)\n    at Module.load (internal/modules/cjs/loader.js:612:32)\n    at runLoaders (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_webpack@3.12.0@webpack\\lib\\NormalModule.js:195:19)\n    at E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\LoaderRunner.js:367:11\n    at E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\LoaderRunner.js:172:11\n    at loadLoader (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\loadLoader.js:32:11)\n    at iteratePitchingLoaders (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\LoaderRunner.js:169:2)\n    at iteratePitchingLoaders (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\LoaderRunner.js:165:10)\n    at E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\LoaderRunner.js:176:18\n    at loadLoader (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\loadLoader.js:47:3)\n    at iteratePitchingLoaders (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\LoaderRunner.js:169:2)\n    at iteratePitchingLoaders (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\LoaderRunner.js:165:10)\n    at E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\LoaderRunner.js:176:18\n    at loadLoader (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\loadLoader.js:47:3)\n    at iteratePitchingLoaders (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\LoaderRunner.js:169:2)\n    at runLoaders (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\LoaderRunner.js:365:2)\n    at NormalModule.doBuild (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_webpack@3.12.0@webpack\\lib\\NormalModule.js:182:3)\n    at NormalModule.build (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_webpack@3.12.0@webpack\\lib\\NormalModule.js:275:15)")},Xrgp:function(e,t,a){"use strict";var n={components:{},props:{list:{type:Array,default:function(){return[]}}},data:function(){return{groupId:"",showWidget:!1,addMerchantShow:!1,merchantFormData:{name:"",groupId:"",pageNum:1,pageSize:10},merchantPageData:{list:[],total:0},multipleSelection:[],selectList:[],checkedList:[],isSelectAll:!1}},mounted:function(){},methods:{handleSelectionChange:function(e){this.multipleSelection=e},addMerchantSelectSizeChange:function(e){this.merchantFormData.pageSize=e,this.mergeArray(),this.getMerchantList()},addMerchantSelectCurrentChange:function(e){this.merchantFormData.pageNum=e,this.mergeArray(),this.getMerchantList()},addMerchantToGroup:function(){var e=this;if(this.selectList.length<1)this.$message.error("请选择商户");else if(""!==this.groupId){var t="";this.selectList.forEach(function(e){t+=e.userId+","}),this.$http.post("/wallet/app/otc/backmgr/addMerchantToGroup",{groupId:this.groupId,userIds:t.substring(0,t.length-1)}).then(function(t){200==t.code&&(e.showWidget=!1,e.$message.success(t.msg),e.$emit("success"))})}else this.showWidget=!1,this.$emit("addData",this.selectList)},getMerchantList:function(){var e=this;this.merchantFormData.groupId=this.groupId,this.$http.post("/wallet/app/otc/backmgr/listByGroup",this.merchantFormData).then(function(t){if(200==t.code){e.merchantPageData=t.result.page;for(var a=0;a<e.merchantPageData.list.length;a++){var n=!1,r=!1;if(e.selectList.length>0)for(var l=0;l<e.selectList.length;l++)e.merchantPageData.list[a].userId==e.selectList[l].userId&&(r=!0);if(e.checkedList.length>0&&""==e.groupId)for(var o=0;o<e.checkedList.length;o++)e.merchantPageData.list[a].userId==e.checkedList[o].userId&&(n=!0);e.$set(e.merchantPageData.list[a],"hasItem",n),e.$set(e.merchantPageData.list[a],"check",r)}}})},headerClick:function(e){if("全选"===e.label)if(this.isSelectAll)for(var t=0;t<this.merchantPageData.list.length;t++)this.hasItem||this.itemSelect(this.merchantPageData.list[t],!1);else for(var a=0;a<this.merchantPageData.list.length;a++)this.hasItem||this.itemSelect(this.merchantPageData.list[a],!0)},itemClick:function(e){e.check?this.itemSelect(e,!1):this.itemSelect(e,!0)},itemSelect:function(e,t){var a=this;this.$set(e,"check",t),e.check?(this.$set(e,"check",!0),this.selectList.push(e)):this.selectList.forEach(function(t,n){e.userId==t.userId&&a.selectList.splice(n,1)});for(var n=!0,r=0;r<this.merchantPageData.list.length;r++)this.merchantPageData.list[r].check||(n=!1);this.isSelectAll=n},mergeArray:function(){for(var e=0;e<this.multipleSelection.length;e++)if(this.selectList.length>0){for(var t=!1,a=0;a<this.selectList.length;a++)this.multipleSelection[e].userId==this.selectList[a].userId&&(t=!0);t||this.selectList.push(this.multipleSelection[e])}else this.selectList.push(this.multipleSelection[e])},show:function(e,t){this.showWidget=!0,this.merchantFormData={name:"",pageNum:1,pageSize:10},this.checkedList=e,this.selectList=[],this.groupId=t||"",this.getMerchantList()}},watch:{showWidget:function(e,t){}},computed:{}},r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{staticClass:"addMerchant-page",attrs:{title:"增加商户",visible:e.showWidget},on:{"update:visible":function(t){e.showWidget=t}}},[a("el-form",{attrs:{model:e.merchantFormData,"label-width":"95px",size:"mini",inline:""}},[a("el-form-item",{attrs:{label:"账户/昵称:"}},[a("el-input",{attrs:{placeholder:"请输入账户或者昵称"},model:{value:e.merchantFormData.name,callback:function(t){e.$set(e.merchantFormData,"name",t)},expression:"merchantFormData.name"}})],1),e._v(" "),a("el-form-item",[a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:e.getMerchantList}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.addMerchantToGroup}},[e._v("确定增加")])],1)],1),e._v(" "),a("el-table",{staticClass:"addMerchantSelect",staticStyle:{"min-width":"100%"},attrs:{data:e.merchantPageData.list,height:"420px",border:"",size:"mini"},on:{"header-click":e.headerClick}},[a("el-table-column",{attrs:{prop:"phone",label:"账号",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"昵称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{width:"55",label:"全选",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return a("div",{staticClass:"checkBox",on:{click:function(a){return e.itemClick(t.row)}}},[t.row.hasItem||1==t.row.inGroup?a("div",[e._v("已选")]):a("div",{staticClass:"check",class:t.row.check?"isCheck":""})])}}])})],1),e._v(" "),a("el-pagination",{attrs:{"current-page":e.merchantFormData.pageNum,"page-sizes":[10,20],"page-size":e.merchantFormData.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:1*e.merchantPageData.total},on:{"size-change":e.addMerchantSelectSizeChange,"current-change":e.addMerchantSelectCurrentChange}})],1)},staticRenderFns:[]};var l={components:{AddMerchant:a("C7Lr")(n,r,!1,function(e){a("OH8Y")},"data-v-5de47a83",null).exports},props:{groupId:{type:String,default:""}},data:function(){return{pageData:{groupId:"",pageNum:1,pageSize:20},multipleSelection:[],total:3,list:[]}},activated:function(){var e=this;this.list=[],setTimeout(function(){""!==e.groupId&&(e.pageData.groupId=e.groupId,e.getData())},100)},methods:{getList:function(){return this.list},addMerchant:function(){this.$refs.AddMerchant.show(this.list,this.groupId)},addData:function(e){this.list=this.list.concat(e)},getData:function(){var e=this;this.$http.post("/wallet/app/otc/backmgr/checkMerchantGroupRecdInfo",this.pageData).then(function(t){e.list=t.result.list,e.total=t.result.total})},checkedDelete:function(){var e="";this.multipleSelection.forEach(function(t){e+=t.userId+","}),this.subMerchantToGroup(e.substring(0,e.length-1))},subMerchantToGroup:function(e){var t=this;if(""!==this.groupId)this.$confirm("此操作将会将用户移出该分组，确定删除？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$http.post("/wallet/app/otc/backmgr/subMerchantToGroup",{groupId:t.groupId,userIds:e}).then(function(e){200==e.code?(t.$message.success(e.msg),t.getData()):t.$message.error(e.msg)})}).catch(function(){});else{var a=[];a=(e+"").indexOf(",")>-1?e.split(","):[e];var n=[];this.list.forEach(function(e,t){var r=!1;a.forEach(function(t){e.userId==t&&(r=!0)}),r||n.push(e)}),this.list=n}},handleSelectionChange:function(e){this.multipleSelection=e},handleCurrentChange:function(e){this.pageData.pageNum=e,this.getData()},handleSizeChange:function(e){this.pageData.pageSize=e,this.getData()}},watch:{},computed:{}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"merchantList-page"},[a("div",{staticClass:"title"},[a("span",[e._v("商户列表：")]),e._v(" "),a("p",[a("el-button",{attrs:{size:"mini",type:"danger",disabled:0==e.multipleSelection.length},on:{click:function(t){return e.checkedDelete()}}},[e._v(" 一键删除 ")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.addMerchant}},[e._v(" 增加商户 ")])],1)]),e._v(" "),a("el-table",{attrs:{data:e.list,height:"auto",border:"",size:"mini"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{type:"index",width:"50",label:"序号",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"phone",label:"商户账户",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"nickName",label:"商户昵称",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.nickName||t.row.name))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"date",label:"操作",fixed:"right",width:"110",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){return e.subMerchantToGroup(t.row.userId)}}},[e._v(" 删除 ")])]}}])})],1),e._v(" "),a("el-pagination",{attrs:{"current-page":e.pageData.pageNum,"page-size":e.pageData.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:1*e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),a("AddMerchant",{ref:"AddMerchant",on:{addData:e.addData,success:e.getData}})],1)},staticRenderFns:[]};var s=a("C7Lr")(l,o,!1,function(e){a("d7PU")},"data-v-20ba034e",null);t.a=s.exports},d7PU:function(e,t){throw new Error("Module build failed: ModuleBuildError: Module build failed: Error: Cannot find module 'tslib'\n    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:594:15)\n    at Function.Module._load (internal/modules/cjs/loader.js:520:25)\n    at Module.require (internal/modules/cjs/loader.js:650:17)\n    at require (internal/modules/cjs/helpers.js:20:18)\n    at Object.<anonymous> (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_less@3.11.0@less\\dist\\less.cjs.js:3:13)\n    at Module._compile (internal/modules/cjs/loader.js:702:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:713:10)\n    at Module.load (internal/modules/cjs/loader.js:612:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:551:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:543:3)\n    at Module.require (internal/modules/cjs/loader.js:650:17)\n    at require (internal/modules/cjs/helpers.js:20:18)\n    at Object.<anonymous> (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_less@3.11.0@less\\index.js:1:80)\n    at Module._compile (internal/modules/cjs/loader.js:702:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:713:10)\n    at Module.load (internal/modules/cjs/loader.js:612:32)\n    at runLoaders (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_webpack@3.12.0@webpack\\lib\\NormalModule.js:195:19)\n    at E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\LoaderRunner.js:367:11\n    at E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\LoaderRunner.js:172:11\n    at loadLoader (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\loadLoader.js:32:11)\n    at iteratePitchingLoaders (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\LoaderRunner.js:169:2)\n    at iteratePitchingLoaders (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\LoaderRunner.js:165:10)\n    at E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\LoaderRunner.js:176:18\n    at loadLoader (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\loadLoader.js:47:3)\n    at iteratePitchingLoaders (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\LoaderRunner.js:169:2)\n    at iteratePitchingLoaders (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\LoaderRunner.js:165:10)\n    at E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\LoaderRunner.js:176:18\n    at loadLoader (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\loadLoader.js:47:3)\n    at iteratePitchingLoaders (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\LoaderRunner.js:169:2)\n    at runLoaders (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\LoaderRunner.js:365:2)\n    at NormalModule.doBuild (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_webpack@3.12.0@webpack\\lib\\NormalModule.js:182:3)\n    at NormalModule.build (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_webpack@3.12.0@webpack\\lib\\NormalModule.js:275:15)")},"r/Zx":function(e,t,a){"use strict";var n={components:{},props:{},data:function(){return{showWidget:!1,addMerchantShow:!1,filterForm:{account:"",groupId:""},merchantPageData:{list:[],total:0},multipleSelection:[],selectList:[],checkedList:[],isSelectAll:!1,userData:[],groupId:""}},mounted:function(){},methods:{addUser:function(){var e=this;if(this.selectList.length<1)this.$message.error("请选择码商");else if(""!==this.groupId){var t="";this.selectList.forEach(function(e){t+=e.userId+","}),this.$http.post("/wallet/app/otc/backmgr/addUserToGroup",{groupId:this.groupId,userIds:t.substring(0,t.length-1)}).then(function(t){200==t.code&&(e.showWidget=!1,e.$message.success(t.msg),e.$emit("success"))})}else this.showWidget=!1,this.$emit("addData",this.selectList)},getUserData:function(e){var t=this;this.filterForm.groupId=this.groupId,this.$http.post("/wallet/invite/backmgr/findInviteChildByGroup",this.filterForm).then(function(a){var n=[];"saerch"==e&&a.result.userId?(n=[a.result],t.mergeArray(n),a.result.list&&a.result.list.length>0&&(n[0].hasChildren=!0)):((n=a.result.list).forEach(function(e){e.childNum>0?e.hasChildren=!0:e.hasChildren=!1}),t.mergeArray(n)),t.userData=[],setTimeout(function(){t.userData=n},100)})},load:function(e,t,a){var n=this,r=e.inviteCode;this.$http.post("/wallet/invite/backmgr/findInviteChildByGroup",{inviteCode:r,groupId:this.groupId}).then(function(e){var t=e.result.list;t.forEach(function(e){e.childNum>0?e.hasChildren=!0:e.hasChildren=!1,n.checkedList.length>0&&n.checkedList.forEach(function(t){t.userId==e.userId&&n.$set(e,"hasItem",!0)})}),a(t)})},mergeArray:function(e){var t=this;""===this.groupId&&e.forEach(function(e){t.checkedList.length>0&&t.checkedList.forEach(function(a){a.userId==e.userId&&t.$set(e,"hasItem",!0)})})},allCheck:function(e){e.forEach(function(e,t){})},itemClick:function(e){e.check?this.itemSelect(e,!1):this.itemSelect(e,!0)},itemSelect:function(e,t){var a=this;this.$set(e,"check",t),e.check?(this.$set(e,"check",!0),this.selectList.push(e)):this.selectList.forEach(function(t,n){e.userId==t.userId&&a.selectList.splice(n,1)});for(var n=!0,r=0;r<this.merchantPageData.list.length;r++)this.merchantPageData.list[r].check||(n=!1);this.isSelectAll=n},show:function(e,t){this.showWidget=!0,this.merchantFormData={account:""},this.selectList=[],this.checkedList=e,this.groupId=t||"",this.getUserData()}},watch:{showWidget:function(e,t){e||this.$emit("change")}},computed:{}},r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{staticClass:"addUser-page",attrs:{title:"增加码商",visible:e.showWidget},on:{"update:visible":function(t){e.showWidget=t}}},[a("el-form",{attrs:{model:e.filterForm,"label-width":"95px",size:"mini",inline:""}},[a("el-form-item",{attrs:{label:"账号:"}},[a("el-input",{attrs:{placeholder:"请输入账号"},model:{value:e.filterForm.account,callback:function(t){e.$set(e.filterForm,"account",t)},expression:"filterForm.account"}})],1),e._v(" "),a("el-form-item",[a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:function(t){return e.getUserData("saerch")}}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.addUser}},[e._v("确定增加")])],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%",height:"100%"},attrs:{data:e.userData,height:"420px","row-key":"inviteCode",border:"",lazy:"",load:e.load,"tree-props":{children:"children",hasChildren:"hasChildren"},size:"mini"}},[a("el-table-column",{attrs:{prop:"nickName",label:"姓名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"userId",label:"ID",align:"center",width:"140"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"account",label:"账号",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{width:"55",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return a("div",{staticClass:"checkBox",on:{click:function(a){return e.itemClick(t.row)}}},[t.row.hasItem||1==t.row.inGroup?a("div",[e._v("已选")]):a("div",{staticClass:"check",class:t.row.check?"isCheck":""})])}}])})],1)],1)},staticRenderFns:[]};var l=a("C7Lr")(n,r,!1,function(e){a("VSnr")},"data-v-2f430525",null);t.a=l.exports}});
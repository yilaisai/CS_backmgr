{"version":3,"sources":["webpack:///src/pages/currency-increase/activity.vue","webpack:///./src/pages/currency-increase/activity.vue?7b95","webpack:///./src/pages/currency-increase/activity.vue"],"names":["activity","name","data","_this","this","checkNum","rule","value","callback","test","Error","message","pageNum","pageSize","listData","total","list","dialogTitle","dialogFormVisible","ruleForm","planName","yearIncome","totalAmount","limitTime","description","beginTime","endTime","buyMax","buyMin","dateTime","rules","required","trigger","validator","$refs","validateField","type","length","methods","resetForm","resetFields","getPaginationChange","val","currentPage","getCoinPlanInfo","_this2","$http","post","then","res","_res$result$list","result","switchChange","itemData","_this3","isOnshelf","id","planId","$notify","title","remove","_this4","sysStatus","$confirm","confirmButtonText","cancelButtonText","addActivity","modification","JSON","parse","stringify_default","appName","getDateTime","determine","_this5","validate","valid","activated","currency_increase_activity","render","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","text-align","margin-bottom","attrs","span","size","on","click","_v","prop","label","scopedSlots","_u","key","fn","scope","_s","row","substr","width","disabled","nativeOn","$event","inactive-value","active-value","model","$$v","$set","expression","directives","rawName","page-size","current-page","handleChange","visible","update:visible","ref","inline","label-width","placeholder","value-format","start-placeholder","end-placeholder","change","slot","_n","rows","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"sJAwGAA,GACAC,KAAA,WACAC,KAFA,WAEA,IAAAC,EAAAC,KACAC,EAAA,SAAAC,EAAAC,EAAAC,GACA,YAAAC,KAAAF,GAGAC,IAFAA,EAAA,IAAAE,MAAAJ,EAAAK,WA2BA,OACAC,QAAA,EACAC,SAAA,GACAC,UACAC,MAAA,KACAC,SAEAC,YAAA,GACAC,mBAAA,EACAC,UACAC,SAAA,GACAC,WAAA,GACAC,YAAA,GACAC,UAAA,GACAC,YAAA,GACAC,UAAA,GACAC,QAAA,GACAC,OAAA,GACAC,OAAA,IAEAC,YACAC,OACAV,WACAW,UAAA,EAAApB,QAAA,UAAAqB,QAAA,SAEAP,YACAM,UAAA,EAAApB,QAAA,UAAAqB,QAAA,SAEAV,cACAS,UAAA,EAAApB,QAAA,UAAAqB,QAAA,SACAC,UAAA5B,EAAAM,QAAA,cACAsB,UA5CA,SAAA3B,EAAAC,EAAAC,GACA,KAAAL,EAAAgB,SAAAS,QACAzB,EAAA+B,MAAAf,SAAAgB,cAAA,UAEA3B,OA0CAe,YACAQ,UAAA,EAAApB,QAAA,UAAAqB,QAAA,SACAC,UAAA5B,EAAAM,QAAA,cAEAU,aACAU,UAAA,EAAApB,QAAA,UAAAqB,QAAA,SACAI,KAAA,SAAAzB,QAAA,YAAAqB,QAAA,SACAC,UA9DA,SAAA3B,EAAAC,EAAAC,GACAD,EAAA,EACAC,EAAA,IAAAE,MAAA,gBACAH,EAAA,IAAA8B,OAAA,EACA7B,EAAA,IAAAE,MAAA,cAEAF,OA0DAoB,SACAG,UAAA,EAAApB,QAAA,UAAAqB,QAAA,SACAC,UAAA5B,EAAAM,QAAA,cAEAgB,SACAI,UAAA,EAAApB,QAAA,UAAAqB,QAAA,SACAC,UAAA5B,EAAAM,QAAA,cACAsB,UAxDA,SAAA3B,EAAAC,EAAAC,GACAD,EAAAJ,EAAAgB,SAAAG,YACAd,EAAA,IAAAE,MAAA,iBAEAF,OAsDAgB,cACAO,UAAA,EAAApB,QAAA,UAAAqB,QAAA,YAKAM,SACAC,UADA,WAEAnC,KAAAe,UACAC,SAAA,GACAC,WAAA,GACAC,YAAA,GACAC,UAAA,GACAC,YAAA,GACAC,UAAA,GACAC,QAAA,GACAC,OAAA,GACAC,OAAA,IAEAxB,KAAAyB,YACAzB,KAAA8B,MAAAf,UAAAf,KAAA8B,MAAAf,SAAAqB,eAEAC,oBAhBA,SAgBAC,EAAAC,GACAvC,KAAAS,SAAA6B,EACAtC,KAAAQ,QAAA+B,EACAvC,KAAAwC,mBAEAA,gBArBA,WAqBA,IAAAC,EAAAzC,KACAQ,EAAAR,KAAAQ,QAAAC,EAAAT,KAAAS,SACAT,KAAA0C,MAAAC,KAAA,0CAAAnC,UAAAC,aAAAmC,KAAA,SAAAC,GAAA,IAAAC,EACAD,EAAAE,OAAAnC,OADAkC,EACAlC,KAAAD,EADAmC,EACAnC,MACA8B,EAAA/B,SAAAE,OACA6B,EAAA/B,SAAAC,WAIAqC,aA9BA,SA8BAC,GAAA,IAAAC,EAAAlD,KACAmD,EAAAF,EAAAE,UAAAC,EAAAH,EAAAG,GAAApC,EAAAiC,EAAAjC,SACAhB,KAAA0C,MAAAC,KAAA,gDACAQ,YAAA,WACAE,OAAAD,IACAR,KAAA,SAAAC,GACAK,EAAAI,SACAC,MAAA,KACAhD,QAAAS,EAAA,KAAAmC,EAAA,iBACAnB,KAAA,YAEAkB,EAAAV,qBAIAgB,OA7CA,SA6CAP,GAAA,IAAAQ,EAAAzD,KACAoD,EAAAH,EAAAG,GAAApC,EAAAiC,EAAAjC,SAAA0C,EAAAT,EAAAS,UACA1D,KAAA2D,SAAA,QAAA3C,EAAA,YACA4C,kBAAA,KACAC,iBAAA,KACA7B,KAAA,YACAY,KAAA,WACAa,EAAAf,MAAAC,KAAA,kDACAe,UAAA,GAAAA,EAAA,oBACAL,OAAAD,IACAR,KAAA,SAAAC,GACAY,EAAAH,SACAC,MAAA,KACAhD,QAAA,MAAAS,EAAA,KACAgB,KAAA,YAEAyB,EAAAjB,uBAIAsB,YAjEA,WAkEA9D,KAAAa,YAAA,OACAb,KAAAmC,YACAnC,KAAAc,mBAAA,GAEAiD,aAtEA,SAsEAjE,GACAE,KAAAmC,YACAnC,KAAAc,mBAAA,EACAd,KAAAe,SAAAiD,KAAAC,MAAAC,IAAApE,IACAE,KAAAyB,UAAAzB,KAAAe,SAAAM,UAAArB,KAAAe,SAAAO,SACAtB,KAAAa,YAAA,MAAAb,KAAAe,SAAAoD,QAAA,OAEAC,YA7EA,WA8EApE,KAAAe,SAAAM,UAAArB,KAAAyB,UAAAzB,KAAAyB,SAAA,GACAzB,KAAAe,SAAAO,QAAAtB,KAAAyB,UAAAzB,KAAAyB,SAAA,IAEA4C,UAjFA,WAiFA,IAAAC,EAAAtE,KACAA,KAAA8B,MAAAf,SAAAwD,SAAA,SAAAC,GACAA,IACAF,EAAAvD,SAAAqC,IACAkB,EAAAvD,SAAAsC,OAAAiB,EAAAvD,SAAAqC,GACAkB,EAAA5B,MAAAC,KAAA,4CAAA2B,EAAAvD,UAAA6B,KAAA,SAAAC,GACAyB,EAAAxD,mBAAA,EACAwD,EAAAnC,YACAmC,EAAAhB,SACAC,MAAA,KACAhD,QAAA,MAAA+D,EAAAvD,SAAAC,SAAA,QACAgB,KAAA,YAEAsC,EAAA9B,qBAGA8B,EAAA5B,MAAAC,KAAA,4CAAA2B,EAAAvD,UAAA6B,KAAA,SAAAC,GACAyB,EAAAxD,mBAAA,EACAwD,EAAAnC,YACAmC,EAAAhB,SACAC,MAAA,KACAhD,QAAA,MAAA+D,EAAAvD,SAAAC,SAAA,QACAgB,KAAA,YAEAsC,EAAA9D,QAAA,EACA8D,EAAA9B,yBAOAiC,UA1MA,WA2MAzE,KAAAwC,oBChTAkC,GADiBC,OAFjB,WAA0B,IAAAC,EAAA5E,KAAa6E,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,aAAuBF,EAAA,UAAeG,aAAaC,aAAA,QAAAC,gBAAA,QAA4CC,OAAQC,KAAA,MAAWP,EAAA,aAAkBM,OAAOE,KAAA,QAAAvD,KAAA,WAAgCwD,IAAKC,MAAAb,EAAAd,eAAyBc,EAAAc,GAAA,cAAAd,EAAAc,GAAA,KAAAX,EAAA,aAAmDM,OAAOvF,KAAA8E,EAAAlE,SAAAE,QAA0BmE,EAAA,mBAAwBM,OAAOM,KAAA,WAAAC,MAAA,UAAkChB,EAAAc,GAAA,KAAAX,EAAA,mBAAoCM,OAAOO,MAAA,QAAeC,YAAAjB,EAAAkB,KAAsBC,IAAA,UAAAC,GAAA,SAAAC,GAAiC,OAAArB,EAAAc,GAAA,aAAAd,EAAAsB,GAAAD,EAAAE,IAAA9E,UAAA+E,OAAA,aAAAxB,EAAAsB,GAAAD,EAAAE,IAAA7E,QAAA8E,OAAA,0BAAmIxB,EAAAc,GAAA,KAAAX,EAAA,mBAAoCM,OAAOM,KAAA,cAAAC,MAAA,OAAAS,MAAA,SAAmDzB,EAAAc,GAAA,KAAAX,EAAA,mBAAoCM,OAAOM,KAAA,YAAAC,MAAA,OAAAS,MAAA,SAAiDzB,EAAAc,GAAA,KAAAX,EAAA,mBAAoCM,OAAOM,KAAA,aAAAC,MAAA,OAAAS,MAAA,OAAiDR,YAAAjB,EAAAkB,KAAsBC,IAAA,UAAAC,GAAA,SAAAC,GAAiC,OAAArB,EAAAc,GAAA,aAAAd,EAAAsB,GAAA,IAAAD,EAAAE,IAAAlF,YAAA,oBAAiF2D,EAAAc,GAAA,KAAAX,EAAA,mBAAoCM,OAAOM,KAAA,SAAAC,MAAA,OAAAS,MAAA,SAA8CzB,EAAAc,GAAA,KAAAX,EAAA,mBAAoCM,OAAOM,KAAA,SAAAC,MAAA,SAAAS,MAAA,SAAgDzB,EAAAc,GAAA,KAAAX,EAAA,mBAAoCM,OAAOM,KAAA,cAAAC,MAAA,UAAqChB,EAAAc,GAAA,KAAAX,EAAA,mBAAoCM,OAAOO,MAAA,KAAAS,MAAA,OAA2BR,YAAAjB,EAAAkB,KAAsBC,IAAA,UAAAC,GAAA,SAAAC,GAAiC,OAAAlB,EAAA,aAAwBM,OAAOrD,KAAA,UAAAsE,SAAA,GAAAL,EAAAE,IAAAhD,UAAAoC,KAAA,SAAoEgB,UAAWd,MAAA,SAAAe,GAAyB5B,EAAAb,aAAAkC,EAAAE,SAA8BvB,EAAAc,GAAA,kBAAAd,EAAAc,GAAA,KAAAX,EAAA,aAAuDM,OAAOrD,KAAA,SAAAsE,SAAA,GAAAL,EAAAE,IAAAhD,UAAAoC,KAAA,SAAmEgB,UAAWd,MAAA,SAAAe,GAAyB5B,EAAApB,OAAAyC,EAAAE,SAAwBvB,EAAAc,GAAA,qCAA4Cd,EAAAc,GAAA,KAAAX,EAAA,mBAAoCM,OAAOO,MAAA,KAAAS,MAAA,OAA2BR,YAAAjB,EAAAkB,KAAsBC,IAAA,UAAAC,GAAA,SAAAC,GAAiC,OAAAlB,EAAA,aAAwBM,OAAOoB,iBAAA,EAAAC,eAAA,GAAoCH,UAAWd,MAAA,SAAAe,GAAyB5B,EAAA5B,aAAAiD,EAAAE,OAA6BQ,OAAQxG,MAAA8F,EAAAE,IAAA,UAAA/F,SAAA,SAAAwG,GAAqDhC,EAAAiC,KAAAZ,EAAAE,IAAA,YAAAS,IAAsCE,WAAA,iCAA0C,GAAAlC,EAAAc,GAAA,KAAAX,EAAA,kBAAuCgC,aAAalH,KAAA,OAAAmH,QAAA,SAAA7G,MAAAyE,EAAAlE,SAAAE,KAAAqB,OAAA,EAAA6E,WAAA,2BAAoGzB,OAAS1E,OAAAiE,EAAAlE,SAAAC,MAAAsG,YAAArC,EAAAnE,SAAAyG,eAAAtC,EAAApE,SAAgFgF,IAAK2B,aAAAvC,EAAAvC,uBAAwCuC,EAAAc,GAAA,KAAAX,EAAA,aAA8BM,OAAO9B,MAAAqB,EAAA/D,YAAAuG,QAAAxC,EAAA9D,mBAAwD0E,IAAK6B,iBAAA,SAAAb,GAAkC5B,EAAA9D,kBAAA0F,MAA+BzB,EAAA,WAAgBuC,IAAA,WAAAjC,OAAsBsB,MAAA/B,EAAA7D,SAAAW,MAAAkD,EAAAlD,MAAA6F,QAAA,EAAAC,cAAA,WAA4EzC,EAAA,gBAAqBM,OAAOO,MAAA,QAAAD,KAAA,cAAmCZ,EAAA,YAAiBM,OAAOE,KAAA,QAAAkC,YAAA,WAAuCd,OAAQxG,MAAAyE,EAAA7D,SAAA,SAAAX,SAAA,SAAAwG,GAAuDhC,EAAAiC,KAAAjC,EAAA7D,SAAA,WAAA6F,IAAwCE,WAAA,wBAAiC,GAAAlC,EAAAc,GAAA,KAAAX,EAAA,gBAAqCM,OAAOO,MAAA,QAAAD,KAAA,eAAoCZ,EAAA,kBAAuBM,OAAOE,KAAA,QAAAmC,eAAA,sBAAA1F,KAAA,gBAAA2F,oBAAA,OAAAC,kBAAA,QAA+HpC,IAAKqC,OAAA,SAAArB,GAA0B5B,EAAAR,gBAAmBuC,OAAQxG,MAAAyE,EAAA,SAAAxE,SAAA,SAAAwG,GAA8ChC,EAAAnD,SAAAmF,GAAiBE,WAAA,eAAwB,GAAAlC,EAAAc,GAAA,KAAAX,EAAA,gBAAqCM,OAAOO,MAAA,QAAAD,KAAA,iBAAsCZ,EAAA,YAAiBM,OAAOoC,YAAA,UAAAlC,KAAA,SAAuCoB,OAAQxG,MAAAyE,EAAA7D,SAAA,YAAAX,SAAA,SAAAwG,GAA0DhC,EAAAiC,KAAAjC,EAAA7D,SAAA,cAAA6F,IAA2CE,WAAA,0BAAoC/B,EAAA,YAAiB+C,KAAA,WAAclD,EAAAc,GAAA,iBAAAd,EAAAc,GAAA,KAAAX,EAAA,gBAAyDM,OAAOO,MAAA,QAAAD,KAAA,eAAoCZ,EAAA,YAAiBM,OAAOoC,YAAA,UAAAlC,KAAA,SAAuCoB,OAAQxG,MAAAyE,EAAA7D,SAAA,UAAAX,SAAA,SAAAwG,GAAwDhC,EAAAiC,KAAAjC,EAAA7D,SAAA,YAAA6F,IAAyCE,WAAA,wBAAkC/B,EAAA,YAAiB+C,KAAA,WAAclD,EAAAc,GAAA,eAAAd,EAAAc,GAAA,KAAAX,EAAA,gBAAuDM,OAAOO,MAAA,QAAAD,KAAA,gBAAqCZ,EAAA,YAAiBM,OAAOE,KAAA,QAAAkC,YAAA,WAAuCd,OAAQxG,MAAAyE,EAAA7D,SAAA,WAAAX,SAAA,SAAAwG,GAAyDhC,EAAAiC,KAAAjC,EAAA7D,SAAA,aAAA6D,EAAAmD,GAAAnB,KAAkDE,WAAA,0BAAmC,GAAAlC,EAAAc,GAAA,KAAAX,EAAA,gBAAqCM,OAAOO,MAAA,QAAAD,KAAA,YAAiCZ,EAAA,YAAiBM,OAAOoC,YAAA,UAAAlC,KAAA,SAAuCoB,OAAQxG,MAAAyE,EAAA7D,SAAA,OAAAX,SAAA,SAAAwG,GAAqDhC,EAAAiC,KAAAjC,EAAA7D,SAAA,SAAA6F,IAAsCE,WAAA,qBAA+B/B,EAAA,YAAiB+C,KAAA,WAAclD,EAAAc,GAAA,iBAAAd,EAAAc,GAAA,KAAAX,EAAA,gBAAyDM,OAAOO,MAAA,QAAAD,KAAA,YAAiCZ,EAAA,YAAiBM,OAAOoC,YAAA,UAAAlC,KAAA,SAAuCoB,OAAQxG,MAAAyE,EAAA7D,SAAA,OAAAX,SAAA,SAAAwG,GAAqDhC,EAAAiC,KAAAjC,EAAA7D,SAAA,SAAA6F,IAAsCE,WAAA,qBAA+B/B,EAAA,YAAiB+C,KAAA,WAAclD,EAAAc,GAAA,iBAAAd,EAAAc,GAAA,KAAAX,EAAA,gBAAyDM,OAAOO,MAAA,QAAAD,KAAA,iBAAsCZ,EAAA,YAAiBM,OAAOrD,KAAA,WAAAgG,KAAA,EAAAzC,KAAA,QAAAkC,YAAA,WAAkEd,OAAQxG,MAAAyE,EAAA7D,SAAA,YAAAX,SAAA,SAAAwG,GAA0DhC,EAAAiC,KAAAjC,EAAA7D,SAAA,cAAA6F,IAA2CE,WAAA,2BAAoC,OAAAlC,EAAAc,GAAA,KAAAX,EAAA,OAAgCE,YAAA,gBAAAI,OAAmCyC,KAAA,UAAgBA,KAAA,WAAe/C,EAAA,aAAkBM,OAAOE,KAAA,SAAeC,IAAKC,MAAA,SAAAe,GAAyB5B,EAAA9D,mBAAA,MAAgC8D,EAAAc,GAAA,SAAAd,EAAAc,GAAA,KAAAX,EAAA,aAA8CM,OAAOrD,KAAA,UAAAuD,KAAA,SAAgCC,IAAKC,MAAAb,EAAAP,aAAuBO,EAAAc,GAAA,sBAE3lLuC,oBCCjB,IAcAC,EAdAC,EAAA,OAcAC,CACAxI,EACA8E,GATA,EAVA,SAAA2D,GACAF,EAAA,SAaA,KAEA,MAUAG,EAAA,QAAAJ,EAAA","file":"static/js/18.2f4a96a38e6189746458.js","sourcesContent":["/**\n*  Created by   阿紫\n*  On  2018/8/10\n*  Content 活动管理\n*/\n<template>\n  <div class='activity'>\n    <el-col :span=\"22\" style=\"text-align:right; margin-bottom: 30px;\">\n      <el-button size=\"small\" type=\"primary\" @click=\"addActivity\">创建活动</el-button>\n    </el-col>\n    <sac-table :data=\"listData.list\">\n      <el-table-column prop=\"planName\" label=\"活动名称\"></el-table-column>\n      <el-table-column label=\"活动时间\">\n        <template slot-scope=\"scope\" prop=\"updateTime\">\n          {{scope.row.beginTime.substr(0,10)}} 至 {{scope.row.endTime.substr(0,10)}}\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"totalAmount\" label=\"活动资金\" width=\"100\"></el-table-column>\n      <el-table-column prop=\"limitTime\" label=\"锁仓期限\" width=\"100\"></el-table-column>\n      <el-table-column prop=\"yearIncome\" label=\"年化收益\" width=\"100\">\n        <template slot-scope=\"scope\" prop=\"yearIncome\">\n          {{scope.row.yearIncome * 100}}%\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"buyMin\" label=\"起购额度\" width=\"100\"></el-table-column>\n      <el-table-column prop=\"buyMax\" label=\"最大购买额度\" width=\"120\"></el-table-column>\n      <el-table-column prop=\"description\" label=\"活动详情\"></el-table-column>\n      <el-table-column label=\"操作\" width=\"160\">\n        <template slot-scope=\"scope\" prop=\"sysStatus\">\n          <el-button type=\"success\" :disabled=\"scope.row.isOnshelf != 0\" size=\"small\"\n                     @click.native=\"modification(scope.row)\">修改\n          </el-button>\n          <el-button type=\"danger\" :disabled=\"scope.row.isOnshelf != 0\" size=\"small\" @click.native=\"remove(scope.row)\">\n            删除\n          </el-button>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"上架\" width=\"100\">\n        <template slot-scope=\"scope\" prop=\"isOnshelf\">\n          <el-switch v-model=\"scope.row.isOnshelf\" :inactive-value=\"0\" :active-value=\"1\"\n                     @click.native=\"switchChange(scope.row)\"></el-switch>\n        </template>\n      </el-table-column>\n    </sac-table>\n    <sac-pagination v-show=\"listData.list.length>0\"\n                    @handleChange=\"getPaginationChange\"\n                    :total=\"+listData.total\"\n                    :page-size=\"pageSize\"\n                    :current-page=\"pageNum\">\n    </sac-pagination>\n    <el-dialog :title=\"dialogTitle\" :visible.sync=\"dialogFormVisible\">\n      <el-form :model=\"ruleForm\" ref=\"ruleForm\" :rules=\"rules\" :inline=\"true\" label-width=\"130px\">\n        <el-form-item label=\"活动名称:\" prop=\"planName\">\n          <el-input v-model=\"ruleForm.planName\" size=\"small\" placeholder=\"请输入活动名称\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"认购时间:\" prop=\"beginTime\">\n          <el-date-picker\n            size=\"small\"\n            v-model=\"dateTime\"\n            value-format=\"yyyy-MM-dd HH:mm:ss\"\n            type=\"datetimerange\"\n            start-placeholder=\"开始日期\"\n            end-placeholder=\"结束日期\"\n            @change=\"getDateTime()\"\n          >\n          </el-date-picker>\n        </el-form-item>\n        <el-form-item label=\"活动资金:\" prop=\"totalAmount\">\n          <el-input placeholder=\"请输入活动资金\" size=\"small\" v-model=\"ruleForm.totalAmount\">\n            <template slot=\"append\">SAC</template>\n          </el-input>\n        </el-form-item>\n        <el-form-item label=\"锁仓期限:\" prop=\"limitTime\">\n          <el-input placeholder=\"请输入锁仓期限\" size=\"small\" v-model=\"ruleForm.limitTime\">\n            <template slot=\"append\">天</template>\n          </el-input>\n        </el-form-item>\n        <el-form-item label=\"年化收益:\" prop=\"yearIncome\">\n          <el-input v-model.number=\"ruleForm.yearIncome\" size=\"small\" placeholder=\"请输入年化收益\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"起购额度:\" prop=\"buyMin\">\n          <el-input placeholder=\"请输入起购额度\" size=\"small\" v-model=\"ruleForm.buyMin\">\n            <template slot=\"append\">SAC</template>\n          </el-input>\n        </el-form-item>\n        <el-form-item label=\"限购额度:\" prop=\"buyMax\">\n          <el-input placeholder=\"请输入限购额度\" size=\"small\" v-model=\"ruleForm.buyMax\">\n            <template slot=\"append\">SAC</template>\n          </el-input>\n        </el-form-item>\n        <el-form-item label=\"活动详情:\" prop=\"description\">\n          <el-input type=\"textarea\" :rows=\"2\" size=\"small\" placeholder=\"请输入活动详情\"\n                    v-model=\"ruleForm.description\"></el-input>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogFormVisible = false\" size=\"small\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"determine\" size=\"small\">确 定</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\n  export default {\n    name: 'activity',\n    data() {\n      const checkNum = (rule, value, callback) => {\n        if (!/^[0-9]*$/i.test(value)) {\n          callback(new Error(rule.message));\n        } else {\n          callback();\n        }\n      };\n      const checkYearIncome = (rule, value, callback) => {\n        if (value > 9) {\n          callback(new Error('年化收益值必须小于9'));\n        } else if ((value + '').length > 5) {\n          callback(new Error('年化收益值精确到毫'));\n        } else {\n          callback();\n        }\n      };\n      const checkTotalAmount = (rule, value, callback) => {\n        if (this.ruleForm.buyMin !== '') {\n          this.$refs.ruleForm.validateField('buyMin');\n        }\n        callback();\n      };\n      const checkBuyMax = (rule, value, callback) => {\n        if (value > this.ruleForm.totalAmount) {\n          callback(new Error('活动资金必须大于限购额度'));\n        } else {\n          callback();\n        }\n      };\n      return {\n        pageNum: 1,\n        pageSize: 20,\n        listData: {\n          total: null,\n          list: [],\n        },\n        dialogTitle: '',\n        dialogFormVisible: false,\n        ruleForm: {\n          planName: '',\n          yearIncome: '',\n          totalAmount: \"\",\n          limitTime: '',\n          description: '',\n          beginTime: '',\n          endTime: '',\n          buyMax: '',\n          buyMin: ''\n        },\n        dateTime: [],\n        rules: {\n          planName: [\n            { required: true, message: '请输入活动名称', trigger: 'blur' }\n          ],\n          beginTime: [\n            { required: true, message: '请选择认购时间', trigger: 'blur' }\n          ],\n          totalAmount: [\n            { required: true, message: '请输入活动资金', trigger: 'blur' },\n            { validator: checkNum, message: '活动资金必须为数字' },\n            { validator: checkTotalAmount },\n          ],\n          limitTime: [\n            { required: true, message: '请输入锁仓期限', trigger: 'blur' },\n            { validator: checkNum, message: '锁仓期限必须为数字' }\n          ],\n          yearIncome: [\n            { required: true, message: '请输入年化收益', trigger: 'blur' },\n            { type: 'number', message: '年化收益必须为数字', trigger: 'blur' },\n            { validator: checkYearIncome },\n          ],\n          buyMin: [\n            { required: true, message: '请输入起购额度', trigger: 'blur' },\n            { validator: checkNum, message: '起购额度必须为数字' }\n          ],\n          buyMax: [\n            { required: true, message: '请输入限购额度', trigger: 'blur' },\n            { validator: checkNum, message: '限购额度必须为数字' },\n            { validator: checkBuyMax },\n          ],\n          description: [\n            { required: true, message: '请输入活动详情', trigger: 'blur' }\n          ],\n        },\n      };\n    },\n    methods: {\n      resetForm() {\n        this.ruleForm = {\n          planName: '',\n          yearIncome: '',\n          totalAmount: \"\",\n          limitTime: '',\n          description: '',\n          beginTime: '',\n          endTime: '',\n          buyMax: '',\n          buyMin: ''\n        };\n        this.dateTime = [];\n        this.$refs.ruleForm && this.$refs.ruleForm.resetFields(); // 重置query的数据\n      },\n      getPaginationChange(val, currentPage) {\n        this.pageSize = val;\n        this.pageNum = currentPage;\n        this.getCoinPlanInfo();\n      },\n      getCoinPlanInfo() {\n        const { pageNum, pageSize } = this;\n        this.$http.post(\"wallet/backmgr/plan/getCoinPlanInfo.do\", { pageNum, pageSize }).then((res) => {\n          const { list, total } = res.result.list;\n          this.listData.list = list;\n          this.listData.total = total;\n        })\n      },\n      // 上下架\n      switchChange(itemData) {\n        const { isOnshelf, id, planName } = itemData;\n        this.$http.post(\"wallet/backmgr/plan/updateCoinPlanOnshelf.do\", {\n          isOnshelf: isOnshelf ? \"YES\" : \"NO\",\n          planId: id\n        }).then((res) => {\n          this.$notify({\n            title: '成功',\n            message: `${planName} ${isOnshelf ? \"上架\" : \"下架\"} 成功`,\n            type: 'success'\n          });\n          this.getCoinPlanInfo();\n        })\n      },\n      // 删除\n      remove(itemData) {\n        const { id, planName, sysStatus } = itemData;\n        this.$confirm(`确定删除 ${planName} 吗?`, '提示', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        }).then(() => {\n          this.$http.post(\"wallet/backmgr/plan/updateCoinPlanSysStatus.do\", {\n            sysStatus: sysStatus == 1 ? \"INVALID0\" : \"VALID1\",\n            planId: id\n          }).then((res) => {\n            this.$notify({\n              title: '成功',\n              message: `删除 ${planName}成功`,\n              type: 'success'\n            });\n            this.getCoinPlanInfo();\n          })\n        })\n      },\n      addActivity() {\n        this.dialogTitle = '创建活动';\n        this.resetForm();\n        this.dialogFormVisible = true;\n      },\n      modification(data) {\n        this.resetForm();\n        this.dialogFormVisible = true;\n        this.ruleForm = JSON.parse(JSON.stringify(data));\n        this.dateTime = [this.ruleForm.beginTime, this.ruleForm.endTime];\n        this.dialogTitle = `修改 ${this.ruleForm.appName} 活动`;\n      },\n      getDateTime() {\n        this.ruleForm.beginTime = this.dateTime && this.dateTime[0];\n        this.ruleForm.endTime = this.dateTime && this.dateTime[1];\n      },\n      determine() {\n        this.$refs.ruleForm.validate((valid) => {\n          if (valid) {\n            if (this.ruleForm.id) {\n              this.ruleForm.planId = this.ruleForm.id;\n              this.$http.post(\"wallet/backmgr/plan/updateCoinPlanInfo.do\", this.ruleForm).then((res) => {\n                this.dialogFormVisible = false;\n                this.resetForm();\n                this.$notify({\n                  title: '成功',\n                  message: `修改 ${ this.ruleForm.planName} 活动成功`,\n                  type: 'success'\n                });\n                this.getCoinPlanInfo();\n              })\n            } else {\n              this.$http.post(\"wallet/backmgr/plan/createCoinPlanInfo.do\", this.ruleForm).then((res) => {\n                this.dialogFormVisible = false;\n                this.resetForm();\n                this.$notify({\n                  title: '成功',\n                  message: `创建 ${ this.ruleForm.planName} 活动成功`,\n                  type: 'success'\n                });\n                this.pageNum = 1;\n                this.getCoinPlanInfo();\n              })\n            }\n          }\n        })\n      },\n    },\n    activated() {\n      this.getCoinPlanInfo();\n    }\n  };\n</script>\n<style lang=\"less\">\n  .activity {\n    .el-dialog {\n      width: 643px;\n      .el-form--inline .el-form-item__content {\n        width: 366px;\n      }\n    }\n    .sac-time {\n      .el-form-item__content {\n        width: 366px;\n      }\n    }\n    .el-date-editor {\n      width: 366px;\n    }\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/currency-increase/activity.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"activity\"},[_c('el-col',{staticStyle:{\"text-align\":\"right\",\"margin-bottom\":\"30px\"},attrs:{\"span\":22}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.addActivity}},[_vm._v(\"创建活动\")])],1),_vm._v(\" \"),_c('sac-table',{attrs:{\"data\":_vm.listData.list}},[_c('el-table-column',{attrs:{\"prop\":\"planName\",\"label\":\"活动名称\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"活动时间\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n        \"+_vm._s(scope.row.beginTime.substr(0,10))+\" 至 \"+_vm._s(scope.row.endTime.substr(0,10))+\"\\n      \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"totalAmount\",\"label\":\"活动资金\",\"width\":\"100\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"limitTime\",\"label\":\"锁仓期限\",\"width\":\"100\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"yearIncome\",\"label\":\"年化收益\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n        \"+_vm._s(scope.row.yearIncome * 100)+\"%\\n      \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"buyMin\",\"label\":\"起购额度\",\"width\":\"100\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"buyMax\",\"label\":\"最大购买额度\",\"width\":\"120\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"description\",\"label\":\"活动详情\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"160\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"success\",\"disabled\":scope.row.isOnshelf != 0,\"size\":\"small\"},nativeOn:{\"click\":function($event){_vm.modification(scope.row)}}},[_vm._v(\"修改\\n        \")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"danger\",\"disabled\":scope.row.isOnshelf != 0,\"size\":\"small\"},nativeOn:{\"click\":function($event){_vm.remove(scope.row)}}},[_vm._v(\"\\n          删除\\n        \")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"上架\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-switch',{attrs:{\"inactive-value\":0,\"active-value\":1},nativeOn:{\"click\":function($event){_vm.switchChange(scope.row)}},model:{value:(scope.row.isOnshelf),callback:function ($$v) {_vm.$set(scope.row, \"isOnshelf\", $$v)},expression:\"scope.row.isOnshelf\"}})]}}])})],1),_vm._v(\" \"),_c('sac-pagination',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.listData.list.length>0),expression:\"listData.list.length>0\"}],attrs:{\"total\":+_vm.listData.total,\"page-size\":_vm.pageSize,\"current-page\":_vm.pageNum},on:{\"handleChange\":_vm.getPaginationChange}}),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":_vm.dialogTitle,\"visible\":_vm.dialogFormVisible},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-form',{ref:\"ruleForm\",attrs:{\"model\":_vm.ruleForm,\"rules\":_vm.rules,\"inline\":true,\"label-width\":\"130px\"}},[_c('el-form-item',{attrs:{\"label\":\"活动名称:\",\"prop\":\"planName\"}},[_c('el-input',{attrs:{\"size\":\"small\",\"placeholder\":\"请输入活动名称\"},model:{value:(_vm.ruleForm.planName),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"planName\", $$v)},expression:\"ruleForm.planName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"认购时间:\",\"prop\":\"beginTime\"}},[_c('el-date-picker',{attrs:{\"size\":\"small\",\"value-format\":\"yyyy-MM-dd HH:mm:ss\",\"type\":\"datetimerange\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\"},on:{\"change\":function($event){_vm.getDateTime()}},model:{value:(_vm.dateTime),callback:function ($$v) {_vm.dateTime=$$v},expression:\"dateTime\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"活动资金:\",\"prop\":\"totalAmount\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入活动资金\",\"size\":\"small\"},model:{value:(_vm.ruleForm.totalAmount),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"totalAmount\", $$v)},expression:\"ruleForm.totalAmount\"}},[_c('template',{slot:\"append\"},[_vm._v(\"SAC\")])],2)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"锁仓期限:\",\"prop\":\"limitTime\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入锁仓期限\",\"size\":\"small\"},model:{value:(_vm.ruleForm.limitTime),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"limitTime\", $$v)},expression:\"ruleForm.limitTime\"}},[_c('template',{slot:\"append\"},[_vm._v(\"天\")])],2)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"年化收益:\",\"prop\":\"yearIncome\"}},[_c('el-input',{attrs:{\"size\":\"small\",\"placeholder\":\"请输入年化收益\"},model:{value:(_vm.ruleForm.yearIncome),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"yearIncome\", _vm._n($$v))},expression:\"ruleForm.yearIncome\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"起购额度:\",\"prop\":\"buyMin\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入起购额度\",\"size\":\"small\"},model:{value:(_vm.ruleForm.buyMin),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"buyMin\", $$v)},expression:\"ruleForm.buyMin\"}},[_c('template',{slot:\"append\"},[_vm._v(\"SAC\")])],2)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"限购额度:\",\"prop\":\"buyMax\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入限购额度\",\"size\":\"small\"},model:{value:(_vm.ruleForm.buyMax),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"buyMax\", $$v)},expression:\"ruleForm.buyMax\"}},[_c('template',{slot:\"append\"},[_vm._v(\"SAC\")])],2)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"活动详情:\",\"prop\":\"description\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":2,\"size\":\"small\",\"placeholder\":\"请输入活动详情\"},model:{value:(_vm.ruleForm.description),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"description\", $$v)},expression:\"ruleForm.description\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.dialogFormVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.determine}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-776a5627\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/currency-increase/activity.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-776a5627\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./activity.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./activity.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./activity.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-776a5627\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./activity.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/currency-increase/activity.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}
webpackJsonp([30],{"6g6W":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("s0MJ"),n={name:"ranking",data:function(){return{filterForm:{coinId:1,orderBy:"desc",curPage:1,pageSize:20},listData:{total:null,list:[]},coinRand:"持有的全部"}},methods:{coinChange:function(t,e){this.coinRand="持有的"+e},resetForm:function(){this.$refs.coinId.reset(),this.$refs.filterForm.resetFields(),this.filterForm.curPage=1,this.getPersonalRanking()},submitForm:function(){this.filterForm.curPage=1,this.getPersonalRanking()},getPaginationChange:function(t,e){this.filterForm.pageSize=t,this.filterForm.curPage=e,this.getPersonalRanking()},getPersonalRanking:function(){var t=this;this.$http.post("cloud/backmgr/statics/personalRanking",this.filterForm).then(function(e){var i=e.result,n=i.list,r=i.total;n.forEach(function(t){t.lastLoginTime=t.lastLoginTime?Object(a.a)(t.lastLoginTime,"YYYY-MM-DD HH:mm:ss"):t.lastLoginTime}),t.listData.list=n,t.listData.total=r})},goDetail:function(t){this.$router.push({name:"queryDetails",query:{phone:t}})}},activated:function(){this.getPersonalRanking()}},r={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ranking"},[i("el-form",{ref:"filterForm",attrs:{inline:!0,"label-width":"80px",model:t.filterForm}},[i("sac-coin",{ref:"coinId",attrs:{isAll:!1},on:{change:t.coinChange},model:{value:t.filterForm.coinId,callback:function(e){t.$set(t.filterForm,"coinId",e)},expression:"filterForm.coinId"}}),t._v(" "),i("sac-submit-form",{on:{submitForm:t.submitForm,resetForm:t.resetForm}})],1),t._v(" "),i("el-table",{attrs:{height:"100%",border:"",size:"small",data:t.listData.list}},[i("el-table-column",{attrs:{prop:"rank",label:"排名",width:"100"}}),t._v(" "),i("el-table-column",{attrs:{prop:"phone",label:"账号",width:"130"}}),t._v(" "),i("el-table-column",{attrs:{prop:"amount",label:t.coinRand}}),t._v(" "),i("el-table-column",{attrs:{prop:"coinAddr",label:"收款地址"}}),t._v(" "),i("el-table-column",{attrs:{prop:"lastLoginTime",label:"最后登录时间",width:"140"}}),t._v(" "),i("el-table-column",{attrs:{label:"操作",width:"130"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"primary",size:"small"},nativeOn:{click:function(i){t.goDetail(e.row.phone)}}},[t._v("查看详情")])]}}])})],1),t._v(" "),i("sac-pagination",{directives:[{name:"show",rawName:"v-show",value:t.listData.list.length>0,expression:"listData.list.length>0"}],attrs:{total:+t.listData.total,"page-size":t.filterForm.pageSize,"current-page":t.filterForm.curPage},on:{handleChange:t.getPaginationChange}})],1)},staticRenderFns:[]};var l=i("VU/8")(n,r,!1,function(t){i("sh8r")},null,null);e.default=l.exports},sh8r:function(t,e){}});
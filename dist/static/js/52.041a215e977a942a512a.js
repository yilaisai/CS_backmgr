webpackJsonp([52],{"4jJs":function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"init-settings"},[l("div",{staticClass:"current"},[l("div",{staticClass:"title"},[l("h3",[e._v("当前参数")]),e._v(" "),l("div",{staticClass:"select-wrap"},[l("label",[e._v("币种：")]),e._v(" "),l("el-select",{attrs:{placeholder:"请选择",size:"small"},model:{value:e.coinName,callback:function(t){e.coinName=t},expression:"coinName"}},[l("el-option",{attrs:{label:"RMT",value:"RMT"}})],1)],1)]),e._v(" "),l("ul",[l("li",[l("label",[e._v(e._s(e.coinName)+"当前市价:")]),l("span",[e._v(e._s(e.form.toRMBPrice))])]),e._v(" "),1==e.form.MERCHANT_RATE_TYPE?l("li",[l("label",[e._v(e._s(e.coinName)+"当前兑入价格:")]),l("span",[e._v(e._s(Math.floor(e.form.MERCHANT_IN_PRICE*e.form.MERCHANT_IN_PRICE_FLOAT*1e6)/1e6))])]):l("li",[l("label",[e._v(e._s(e.coinName)+"当前兑入价格:")]),l("span",[e._v(e._s(e.form.MERCHANT_IN_PRICE))])]),e._v(" "),1==e.form.MERCHANT_RATE_TYPE?l("li",[l("label",[e._v(e._s(e.coinName)+"当前兑出价格:")]),l("span",[e._v(e._s(Math.floor(e.form.MERCHANT_OUT_PRICE*e.form.MERCHANT_OUT_PRICE_FLOAT*1e6)/1e6))])]):l("li",[l("label",[e._v(e._s(e.coinName)+"当前兑出价格:")]),l("span",[e._v(e._s(e.form.MERCHANT_OUT_PRICE))])])])]),e._v(" "),l("div",{staticClass:"content-wrap"},[l("h3",[e._v("商户设置")]),e._v(" "),l("el-tabs",{attrs:{type:"border-card"}},[l("el-tab-pane",{attrs:{label:"兑入兑出价格设置"}},[l("el-form",{ref:"form",attrs:{model:e.form,"label-width":"100px",size:"small"}},[l("el-form-item",{attrs:{label:"类型："}},[l("el-radio-group",{model:{value:e.form.MERCHANT_RATE_TYPE,callback:function(t){e.$set(e.form,"MERCHANT_RATE_TYPE",t)},expression:"form.MERCHANT_RATE_TYPE"}},[l("el-radio",{attrs:{label:"1"}},[e._v("系统")]),e._v(" "),l("el-radio",{attrs:{label:"2"}},[e._v("手动")])],1)],1),e._v(" "),l("el-form-item",{attrs:{label:"货币："}},[l("el-input",{staticStyle:{width:"100px"},attrs:{disabled:!0},model:{value:e.form.MERCHANT_COIN_NAME,callback:function(t){e.$set(e.form,"MERCHANT_COIN_NAME",t)},expression:"form.MERCHANT_COIN_NAME"}})],1),e._v(" "),1==e.form.MERCHANT_RATE_TYPE?l("el-form-item",{attrs:{label:"兑入价格："}},[l("el-input",{staticStyle:{width:"100px"},attrs:{disabled:!0},model:{value:e.form.toRMBPrice,callback:function(t){e.$set(e.form,"toRMBPrice",t)},expression:"form.toRMBPrice"}}),e._v("　*　"),l("el-input",{attrs:{placeholder:"输入倍数（如0.9）"},model:{value:e.form.MERCHANT_IN_PRICE_FLOAT,callback:function(t){e.$set(e.form,"MERCHANT_IN_PRICE_FLOAT",t)},expression:"form.MERCHANT_IN_PRICE_FLOAT"}})],1):l("el-form-item",{attrs:{label:"兑入价格："}},[l("el-input",{model:{value:e.form.MERCHANT_IN_PRICE,callback:function(t){e.$set(e.form,"MERCHANT_IN_PRICE",t)},expression:"form.MERCHANT_IN_PRICE"}})],1),e._v(" "),1==e.form.MERCHANT_RATE_TYPE?l("el-form-item",{attrs:{label:"兑出价格："}},[l("el-input",{staticStyle:{width:"100px"},attrs:{disabled:!0},model:{value:e.form.toRMBPrice,callback:function(t){e.$set(e.form,"toRMBPrice",t)},expression:"form.toRMBPrice"}}),e._v("　*　"),l("el-input",{attrs:{placeholder:"输入倍数（如1.1）"},model:{value:e.form.MERCHANT_OUT_PRICE_FLOAT,callback:function(t){e.$set(e.form,"MERCHANT_OUT_PRICE_FLOAT",t)},expression:"form.MERCHANT_OUT_PRICE_FLOAT"}})],1):l("el-form-item",{attrs:{label:"兑出价格："}},[l("el-input",{model:{value:e.form.MERCHANT_OUT_PRICE,callback:function(t){e.$set(e.form,"MERCHANT_OUT_PRICE",t)},expression:"form.MERCHANT_OUT_PRICE"}})],1)],1),e._v(" "),l("p",{staticClass:"tips"},[e._v("提示：价格默认使用系统设置的价格，开启手动设置的价格，则自动关闭系统价格，关闭手动设置的价格，则自动开启系统价格。")])],1)],1),e._v(" "),l("el-tabs",{attrs:{type:"border-card"}},[l("el-tab-pane",{attrs:{label:"商户初始化设置"}},[l("el-form",{ref:"form",attrs:{model:e.form,inline:!0,"label-width":"155px",size:"small"}},[l("el-form-item",{attrs:{label:"商户兑入手续费比例："}},[l("el-input",{attrs:{placeholder:"未设置默认1.5%"},model:{value:e.form.MERCHANT_IN_FEE_RATE,callback:function(t){e.$set(e.form,"MERCHANT_IN_FEE_RATE",t)},expression:"form.MERCHANT_IN_FEE_RATE"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"商户兑出手续费比例："}},[l("el-input",{attrs:{placeholder:"未设置默认0.3%"},model:{value:e.form.MERCHANT_OUT_FEE_RATE,callback:function(t){e.$set(e.form,"MERCHANT_OUT_FEE_RATE",t)},expression:"form.MERCHANT_OUT_FEE_RATE"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"商户最小兑入额度："}},[l("el-input",{model:{value:e.form.MERCHANT_MIN_IN_AMOUNT,callback:function(t){e.$set(e.form,"MERCHANT_MIN_IN_AMOUNT",t)},expression:"form.MERCHANT_MIN_IN_AMOUNT"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"商户最大兑入额度："}},[l("el-input",{model:{value:e.form.MERCHANT_MAX_IN_AMOUNT,callback:function(t){e.$set(e.form,"MERCHANT_MAX_IN_AMOUNT",t)},expression:"form.MERCHANT_MAX_IN_AMOUNT"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"商户最小兑出额度："}},[l("el-input",{model:{value:e.form.MERCHANT_MIN_OUT_AMOUNT,callback:function(t){e.$set(e.form,"MERCHANT_MIN_OUT_AMOUNT",t)},expression:"form.MERCHANT_MIN_OUT_AMOUNT"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"商户最大兑出额度："}},[l("el-input",{model:{value:e.form.MERCHANT_MAX_OUT_AMOUNT,callback:function(t){e.$set(e.form,"MERCHANT_MAX_OUT_AMOUNT",t)},expression:"form.MERCHANT_MAX_OUT_AMOUNT"}})],1)],1),e._v(" "),l("p",{staticClass:"tips"},[e._v("提示：商户默认该参数，可在商户查询模块单独配置该参数。初始化设置修改后只对新增商户生效。")])],1)],1),e._v(" "),l("el-tabs",{attrs:{type:"border-card"}},[l("el-tab-pane",{attrs:{label:"全局设置"}},[l("el-form",{ref:"form",attrs:{model:e.form,"label-width":"100px",size:"small"}},[l("el-form-item",{attrs:{label:"提币手续费："}},[l("el-input",{model:{value:e.form.MERCHANT_WITHDRAW_RATE,callback:function(t){e.$set(e.form,"MERCHANT_WITHDRAW_RATE",t)},expression:"form.MERCHANT_WITHDRAW_RATE"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"转账手续费："}},[l("el-input",{model:{value:e.form.MERCHANT_TRADE_RATE,callback:function(t){e.$set(e.form,"MERCHANT_TRADE_RATE",t)},expression:"form.MERCHANT_TRADE_RATE"}})],1)],1)],1)],1),e._v(" "),l("el-button",{staticClass:"save",attrs:{type:"primary"},on:{click:e.open}},[e._v("保存修改")])],1)])},staticRenderFns:[]};var o=l("VU/8")({data:function(){return{form:{},coinName:"RMT"}},activated:function(){this.getData()},methods:{getData:function(){var e=this;this.$http.post("/wallet/backmgr/merchant/trade/config",{coinName:this.coinName}).then(function(t){e.form=t.result})},open:function(){var e=this;this.$prompt("请输入谷歌验证码","安全验证",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(t){var l=t.value;e.save(l)}).catch(function(){e.$message({type:"info",message:"取消修改"})})},save:function(e){var t=this;""!=e.trim()?(this.form.secret=e,this.$http.post("/wallet/backmgr/merchant/trade/updateConfig",this.form).then(function(e){t.$notify.success({title:"提示",message:e.msg})})):this.$message({type:"info",message:"谷歌验证码不能为空"})}},watch:{coinName:function(){this.getData()}}},a,!1,function(e){l("X5+D")},"data-v-52f9d91e",null);t.default=o.exports},"X5+D":function(e,t){}});
webpackJsonp([36],{"+PDj":function(e,r,l){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=l("mvHQ"),t=l.n(o),a=l("d7EF"),s=l.n(a),i=l("W3Iv"),n=l.n(i),m={name:"third-modify",data:function(){return{transferTypeInfoList:[],server_path:"",currentForm:{},ruleForm:{appid:"",phone:"",appName:"",appNameEn:"",appIcon:"",notifyUrl:"",hookInjectUrl:"",iosVersion:"",adrVersion:"",destext:"",destextEn:"",jumpUrl:"",iosPackageName:"",iosSign:"",adrSign:"",adrPackageName:"",downloadUrl:"",iosDownldUrl:"",transferTypeId:"",ownType:1,position:0},rules:{transferTypeId:[{required:!0,message:"请选择商户类型",trigger:"change"}],appid:[{required:!0,message:"请输入APPID",trigger:"blur"}],appName:[{required:!0,message:"请输入名称",trigger:"blur"}],appIcon:[{required:!0,message:"请输入应用图标地址",trigger:"blur"}],phone:[{required:!0,message:"请输入商户手机号",trigger:"blur"}],iosVersion:[{required:!0,message:"请输入ios版本号",trigger:"blur"}],adrVersion:[{required:!0,message:"请输入android版本号",trigger:"blur"}],destext:[{required:!0,message:"请输入应用介绍",trigger:"blur"}],ownType:[{required:!0,message:"请选择是否自营",trigger:"blur"}]}}},methods:{resetForm:function(){this.ruleForm={appid:"",phone:"",appName:"",appIcon:"",notifyUrl:"",hookInjectUrl:"",iosVersion:"",adrVersion:"",destext:"",jumpUrl:"",iosPackageName:"",adrPackageName:"",downloadUrl:"",iosDownldUrl:"",transferTypeId:"",ownType:1,appNameEn:"",iosSign:"",adrSign:"",destextEn:"",position:0},this.$refs.ruleForm&&this.$refs.ruleForm.resetFields()},getTransferTypeInfoList:function(){var e=this;this.transferTypeInfoList.length||this.$http.post("wallet/backmgr/transferType/getTransferTypeInfoList.do",{version:"1.0.0",plat:"web"}).then(function(r){var l=r.result.list.list;l.forEach(function(e){e.label=e.transferTypeName,e.value=e.id.toString()}),e.transferTypeInfoList=l})},upload:function(e,r,l){this.ruleForm.appIcon=e.result.urls[0]},determine:function(){var e=this;this.$refs.ruleForm.validate(function(r){r&&(e.ruleForm.id?(n()(e.ruleForm).forEach(function(r){var l=s()(r,2),o=l[0],t=l[1];t==e.currentForm[o]||t||(e.ruleForm[o]="empty")}),e.$http.post("wallet/backmgr/thirdAppInfo/updateThirdAppInfo.do",e.ruleForm).then(function(r){e.dialogFormVisible=!1,e.resetForm(),e.$notify({title:"成功",message:"修改 "+e.ruleForm.appName+" 应用成功",type:"success"}),e.$router.go(-1)})):e.$http.post("wallet/backmgr/thirdAppInfo/createThirdAppInfo.do",e.ruleForm).then(function(r){e.dialogFormVisible=!1,e.resetForm(),e.$notify({title:"成功",message:"创建 "+e.ruleForm.appName+" 应用成功",type:"success"}),e.pageNum=1,e.$router.go(-1)}))})}},activated:function(){this.server_path=SERVER_PATH,this.resetForm(),this.getTransferTypeInfoList(),this.$route.param.id&&(this.ruleForm=JSON.parse(t()(data)),this.currentForm=JSON.parse(t()(data)),this.ruleForm.appid=data.appId,this.currentForm.appid=data.appId)}},p={render:function(){var e=this,r=e.$createElement,l=e._self._c||r;return l("div",{staticClass:"third-modify"},[l("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,inline:!0,"label-width":"130px"}},[l("el-form-item",{attrs:{label:"应用名称:",prop:"appName"}},[l("el-input",{attrs:{size:"small",placeholder:"请输入名称"},model:{value:e.ruleForm.appName,callback:function(r){e.$set(e.ruleForm,"appName",r)},expression:"ruleForm.appName"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"应用英文名称:"}},[l("el-input",{attrs:{size:"small",placeholder:"请输入名称"},model:{value:e.ruleForm.appNameEn,callback:function(r){e.$set(e.ruleForm,"appNameEn",r)},expression:"ruleForm.appNameEn"}})],1),e._v(" "),e.ruleForm.id?e._e():l("el-form-item",{attrs:{label:"商户手机号:",prop:"phone"}},[l("el-input",{attrs:{size:"small",placeholder:"请输入商户手机号"},model:{value:e.ruleForm.phone,callback:function(r){e.$set(e.ruleForm,"phone",r)},expression:"ruleForm.phone"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"应用图标:",prop:"appIcon"}},[l("el-input",{attrs:{size:"small",placeholder:"请输入应用图标"},model:{value:e.ruleForm.appIcon,callback:function(r){e.$set(e.ruleForm,"appIcon",r)},expression:"ruleForm.appIcon"}},[l("el-upload",{attrs:{slot:"append",action:e.server_path+"wallet/util/open/uploadFile.do",multiple:"",name:"files",data:{type:"img"},"show-file-list":!1,"on-success":e.upload},slot:"append"},[l("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1)],1)],1),e._v(" "),l("el-form-item",{attrs:{label:"商户类型：",prop:"transferTypeId"}},[l("el-select",{attrs:{size:"small",placeholder:"请选择商户类型"},model:{value:e.ruleForm.transferTypeId,callback:function(r){e.$set(e.ruleForm,"transferTypeId",r)},expression:"ruleForm.transferTypeId"}},e._l(e.transferTypeInfoList,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),l("el-form-item",{attrs:{label:"APPID:",prop:"appid"}},[l("el-input",{attrs:{size:"small",placeholder:"请输入APPID"},model:{value:e.ruleForm.appid,callback:function(r){e.$set(e.ruleForm,"appid",r)},expression:"ruleForm.appid"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"支付通知Url:"}},[l("el-input",{attrs:{size:"small",placeholder:"请输入支付通知Url"},model:{value:e.ruleForm.notifyUrl,callback:function(r){e.$set(e.ruleForm,"notifyUrl",r)},expression:"ruleForm.notifyUrl"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"回调地址:"}},[l("el-input",{attrs:{size:"small",placeholder:"请输入回调地址"},model:{value:e.ruleForm.hookInjectUrl,callback:function(r){e.$set(e.ruleForm,"hookInjectUrl",r)},expression:"ruleForm.hookInjectUrl"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"ios版本号:",prop:"iosVersion"}},[l("el-input",{attrs:{size:"small",placeholder:"请输入版本号"},model:{value:e.ruleForm.iosVersion,callback:function(r){e.$set(e.ruleForm,"iosVersion",r)},expression:"ruleForm.iosVersion"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"android版本号:",prop:"adrVersion"}},[l("el-input",{attrs:{size:"small",placeholder:"请输入版本号"},model:{value:e.ruleForm.adrVersion,callback:function(r){e.$set(e.ruleForm,"adrVersion",r)},expression:"ruleForm.adrVersion"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"iOS Scheme协议:"}},[l("el-input",{attrs:{size:"small",placeholder:"请输入iOS Scheme协议"},model:{value:e.ruleForm.iosPackageName,callback:function(r){e.$set(e.ruleForm,"iosPackageName",r)},expression:"ruleForm.iosPackageName"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"iOS 签名:"}},[l("el-input",{attrs:{size:"small",placeholder:"请输入iOS 签名"},model:{value:e.ruleForm.iosSign,callback:function(r){e.$set(e.ruleForm,"iosSign",r)},expression:"ruleForm.iosSign"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"android 包名:"}},[l("el-input",{attrs:{size:"small",placeholder:"请输入android 包名"},model:{value:e.ruleForm.adrPackageName,callback:function(r){e.$set(e.ruleForm,"adrPackageName",r)},expression:"ruleForm.adrPackageName"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"android 签名:"}},[l("el-input",{attrs:{size:"small",placeholder:"请输入android 签名"},model:{value:e.ruleForm.adrSign,callback:function(r){e.$set(e.ruleForm,"adrSign",r)},expression:"ruleForm.adrSign"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"android下载地址:"}},[l("el-input",{attrs:{size:"small",placeholder:"请输入android下载地址"},model:{value:e.ruleForm.downloadUrl,callback:function(r){e.$set(e.ruleForm,"downloadUrl",r)},expression:"ruleForm.downloadUrl"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"ios下载地址:"}},[l("el-input",{attrs:{size:"small",placeholder:"请输入ios下载地址"},model:{value:e.ruleForm.iosDownldUrl,callback:function(r){e.$set(e.ruleForm,"iosDownldUrl",r)},expression:"ruleForm.iosDownldUrl"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"跳转地址:"}},[l("el-input",{attrs:{size:"small",placeholder:"请输入跳转地址"},model:{value:e.ruleForm.jumpUrl,callback:function(r){e.$set(e.ruleForm,"jumpUrl",r)},expression:"ruleForm.jumpUrl"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"应用介绍:",prop:"destext"}},[l("el-input",{attrs:{type:"textarea",rows:2,size:"small",placeholder:"请输入应用介绍"},model:{value:e.ruleForm.destext,callback:function(r){e.$set(e.ruleForm,"destext",r)},expression:"ruleForm.destext"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"英文版介绍:"}},[l("el-input",{attrs:{type:"textarea",rows:2,size:"small",placeholder:"请输入应用介绍"},model:{value:e.ruleForm.destextEn,callback:function(r){e.$set(e.ruleForm,"destextEn",r)},expression:"ruleForm.destextEn"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"是否自营",prop:"ownType"}},[l("el-radio-group",{model:{value:e.ruleForm.ownType,callback:function(r){e.$set(e.ruleForm,"ownType",r)},expression:"ruleForm.ownType"}},[l("el-radio",{attrs:{label:1}},[e._v("是")]),e._v(" "),l("el-radio",{attrs:{label:0}},[e._v("否")])],1)],1),e._v(" "),l("el-form-item",{attrs:{label:"权重:"}},[l("el-input-number",{attrs:{size:"small",min:0},model:{value:e.ruleForm.position,callback:function(r){e.$set(e.ruleForm,"position",r)},expression:"ruleForm.position"}})],1)],1),e._v(" "),l("el-button",{attrs:{size:"small"},on:{click:function(r){e.router.go(-1)}}},[e._v("取 消")]),e._v(" "),l("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.determine}},[e._v("确 定")])],1)},staticRenderFns:[]};var u=l("VU/8")(m,p,!1,function(e){l("0L+K")},null,null);r.default=u.exports},"0L+K":function(e,r){}});
webpackJsonp([97],{"63PD":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l={name:"complaint-details",data:function(){return{appealStatus:"",money:"",dialogTitle:"结果裁定",dialogVisible:!1,dialogVisible2:!1,payDetaileShow:!1,tradeId:"",appealId:"",BuyList:[],SaleList:[],BuyProofInfo:{},SaleProofInfo:{},ruleForm:{appealId:"",appealResult:1,buyerResult:0,salerResult:0,appealRemark:""},rules:{appealRemark:[{required:!0,message:"备注不能为空",trigger:"blur"}]},appealResultData:[{label:"买方胜诉（卖家的币放行，直接打给买方）",value:2},{label:"卖方胜诉（卖家的币取消锁定）",value:1}],dealData:[{label:"不惩罚",value:0},{label:"24之内不能交易",value:1},{label:"永远不能交易",value:2}],options:{inline:!1,button:!1,navbar:!1,title:!1,toolbar:!1,tooltip:!1,movable:!0,zoomable:!0,rotatable:!0,scalable:!1,transition:!0,fullscreen:!0,keyboard:!0,url:"data-source"},payItem:{}}},filters:{filterType:function(e){switch(e){case 1:return"对方未付款";case 2:return"对方未放行";case 3:return"对方无应答";case 4:return"对方有欺诈行为";default:return"其他"}}},methods:{getProofInfo:function(){var e=this;this.$http.post("/wallet/app/otc/backmgr/proofInfo",{appealId:this.appealId}).then(function(t){t.result.forEach(function(t,a){1==t.isBuyer?e.BuyProofInfo=t:e.SaleProofInfo=t})})},showEdit:function(){this.dialogVisible2=!0,this.money=""},moneyInput:function(){this.money=this.money+"",this.money=this.money.replace(/^\.$/g,""),this.money=this.money.replace(/[^\d.]/g,""),this.money=this.money.replace(/\.{2,}/g,"."),this.money=this.money.replace(".","$#$").replace(/\./g,"").replace("$#$","."),this.money=this.money.replace(/^(\-)*(\d+)\.(\d\d).*$/,"$1$2.$3"),this.money.indexOf(".")<0&&""!=this.money&&(this.money=parseFloat(this.money))},appealChangeMoney:function(){var e=this;this.money>0?this.$http.post("/wallet/app/otc/backmgr/appealChangeMoney",{appealId:this.appealId,money:Number(this.money)}).then(function(t){200==t.code&&(e.getBuyList(),e.$notify({title:"成功",message:t.msg,type:"success"}),e.dialogVisible2=!1)}):this.$notify({title:"提示",message:"请输入金额",type:"error"})},getBuyList:function(){var e=this,t={appealId:this.appealId};this.$http.post("/wallet/app/otc/backmgr/infoBuyList",t).then(function(t){e.appealStatus=t.result.appealStatus;var a=t.result,l=a.makerMap,s=a.takerMap;e.BuyList=[l],e.SaleList=[s]})},payDetaile:function(e){this.payItem=e,this.payDetaileShow=!0},getSaleList:function(){var e=this,t={appealId:this.appealId};this.$http.post("/wallet/app/otc/backmgr/infoSaleList",t).then(function(t){var a=t.result.list;e.SaleList=a;e.appealId,t.result.list[0].userId})},routerReturn:function(){this.$router.go(-1)},routerMore:function(e){this.$router.push({name:"complaint-more",query:{userId:e}})},judgment:function(){this.$refs.ruleForm&&this.$refs.ruleForm.resetFields(),this.dialogVisible=!0},dialogConfirm:function(){var e=this;this.ruleForm.appealId=this.appealId,this.$http.post("/wallet/app/otc/backmgr/adjustAppeal",this.ruleForm).then(function(t){e.$notify({title:"成功",message:"裁决成功",type:"success"}),e.dialogVisible=!1,e.getBuyList()})}},activated:function(){this.BuyProofInfo={},this.SaleProofInfo={},this.tradeId=this.$route.query.tradeId,this.appealId=this.$route.query.appealId,this.getProofInfo(),this.getBuyList()}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"complaint-details"},[a("el-header",[a("p"),e._v(" "),e.appealStatus+""=="0"?a("el-button",{attrs:{type:"primary"},on:{click:e.judgment}},[e._v("判决")]):a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.$router.go(-1)}}},[e._v("返回")])],1),e._v(" "),a("div",{staticClass:"card-all-box clearfix"},[e.SaleList.length>0?a("div",{staticClass:"card-box"},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("商户信息")])]),e._v(" "),a("table",{staticClass:"com-table",attrs:{border:"1",cellpadding:"0",cellspacing:"0",bordercolor:"#dee2e6"}},[a("tr",[a("td",[e._v("订单号："+e._s(e.SaleList[0].tradeId))]),e._v(" "),a("td",[e._v("用户id："+e._s(e.SaleList[0].userId))]),e._v(" "),a("td",[e._v("账号："+e._s(e.SaleList[0].phone))])]),e._v(" "),a("tr",[a("td",[e._v("昵称："+e._s(e.SaleList[0].nickName))]),e._v(" "),a("td",[e._v("交易类型："+e._s(e._f("advTypeFilter")(e.SaleList[0].advType)))]),e._v(" "),a("td",[e._v("投诉时间："+e._s(e.$fmtDate(e.SaleList[0].createTime,"full")))])]),e._v(" "),a("tr",[a("td",[e._v("交易金额："+e._s(e.SaleList[0].money)+" "),e.appealStatus+""=="0"?a("el-button",{staticClass:"edit",attrs:{type:"text"},on:{click:function(t){return e.showEdit()}}},[e._v("修改")]):e._e()],1),e._v(" "),a("td",[e._v("数量："+e._s(e.SaleList[0].amount))]),e._v(" "),a("td",[e._v("价格："+e._s(e.SaleList[0].price))])]),e._v(" "),a("tr",{staticClass:"payList"},[a("td",{directives:[{name:"show",rawName:"v-show",value:e.SaleList[0].aPayList&&e.SaleList[0].aPayList.length>0,expression:"SaleList[0].aPayList&&SaleList[0].aPayList.length>0 "}]},[a("div",[a("p",[e._v("支付宝：")]),e._v(" "),a("ul",e._l(e.SaleList[0].aPayList,function(t,l){return a("li",{key:l},[e._v(" 账号 "),a("span",[e._v(e._s(l+1))]),e._v(" ： "+e._s(t.num)+" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.payDetaile(t)}}},[e._v("详情")])],1)}),0)])]),e._v(" "),a("td",{directives:[{name:"show",rawName:"v-show",value:e.SaleList[0].wPayList&&e.SaleList[0].wPayList.length>0,expression:"SaleList[0].wPayList&&SaleList[0].wPayList.length>0"}]},[a("div",[a("p",[e._v("微信：")]),e._v(" "),a("ul",e._l(e.SaleList[0].wPayList,function(t,l){return a("li",{key:l},[e._v(" 账号 "),a("span",[e._v(e._s(l+1))]),e._v(" ： "+e._s(t.num)),a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.payDetaile(t)}}},[e._v("详情")])],1)}),0)])]),e._v(" "),a("td",{directives:[{name:"show",rawName:"v-show",value:e.SaleList[0].bankPayList&&e.SaleList[0].bankPayList.length>0,expression:"SaleList[0].bankPayList&&SaleList[0].bankPayList.length>0"}]},[a("div",[a("p",[e._v("银行：")]),e._v(" "),a("ul",e._l(e.SaleList[0].bankPayList,function(t,l){return a("li",{key:l},[e._v(" 账号 "),a("span",[e._v(e._s(l+1))]),e._v(" ： "+e._s(t.num)),a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.payDetaile(t)}}},[e._v("详情")])],1)}),0)])]),e._v(" "),a("td",{directives:[{name:"show",rawName:"v-show",value:e.SaleList[0].atobPayList&&e.SaleList[0].atobPayList.length>0,expression:"SaleList[0].atobPayList&&SaleList[0].atobPayList.length>0"}]},[a("div",[a("p",[e._v("宝转卡：")]),e._v(" "),a("ul",e._l(e.SaleList[0].atobPayList,function(t,l){return a("li",{key:l},[e._v(" 账号 "),a("span",[e._v(e._s(l+1))]),e._v(" ： "+e._s(t.num)),a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.payDetaile(t)}}},[e._v("详情")])],1)}),0)])])])])])],1):e._e(),e._v(" "),e.BuyList.length>0?a("div",{staticClass:"card-box"},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("码商信息")])]),e._v(" "),a("table",{staticClass:"com-table",attrs:{border:"1",cellpadding:"0",cellspacing:"0",bordercolor:"#dee2e6"}},[a("tr",[a("td",[e._v("订单号："+e._s(e.BuyList[0].tradeId))]),e._v(" "),a("td",[e._v("用户id："+e._s(e.BuyList[0].userId))]),e._v(" "),a("td",[e._v("账号："+e._s(e.BuyList[0].phone))])]),e._v(" "),a("tr",[a("td",[e._v("昵称："+e._s(e.BuyList[0].nickName))]),e._v(" "),a("td",[e._v("交易类型："+e._s(e._f("advTypeFilter")(e.BuyList[0].advType)))]),e._v(" "),a("td",[e._v("投诉时间："+e._s(e.$fmtDate(e.BuyList[0].createTime,"full")))])]),e._v(" "),a("tr",{staticClass:"payList"},[a("td",{directives:[{name:"show",rawName:"v-show",value:e.BuyList[0].aPayList&&e.BuyList[0].aPayList.length>0,expression:"BuyList[0].aPayList&&BuyList[0].aPayList.length>0"}]},[a("div",[a("p",[e._v("支付宝：")]),e._v(" "),a("ul",e._l(e.BuyList[0].aPayList,function(t,l){return a("li",{key:l},[e._v(" 账号 "),a("span",[e._v(e._s(l+1))]),e._v(" ： "+e._s(t.num)+" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.payDetaile(t)}}},[e._v("详情")])],1)}),0)])]),e._v(" "),a("td",{directives:[{name:"show",rawName:"v-show",value:e.BuyList[0].wPayList&&e.BuyList[0].wPayList.length>0,expression:"BuyList[0].wPayList&&BuyList[0].wPayList.length>0"}]},[a("div",[a("p",[e._v("微信：")]),e._v(" "),a("ul",e._l(e.BuyList[0].wPayList,function(t,l){return a("li",{key:l},[e._v(" 账号 "),a("span",[e._v(e._s(l+1))]),e._v(" ： "+e._s(t.num)),a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.payDetaile(t)}}},[e._v("详情")])],1)}),0)])]),e._v(" "),a("td",{directives:[{name:"show",rawName:"v-show",value:e.BuyList[0].bankPayList&&e.BuyList[0].bankPayList.length>0,expression:"BuyList[0].bankPayList&&BuyList[0].bankPayList.length>0"}]},[a("div",[a("p",[e._v("银行卡：")]),e._v(" "),a("ul",e._l(e.BuyList[0].bankPayList,function(t,l){return a("li",{key:l},[e._v(" 账号 "),a("span",[e._v(e._s(l+1))]),e._v(" ： "+e._s(t.num)),a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.payDetaile(t)}}},[e._v("详情")])],1)}),0)])]),e._v(" "),a("td",{directives:[{name:"show",rawName:"v-show",value:e.BuyList[0].atobPayList&&e.BuyList[0].atobPayList.length>0,expression:"BuyList[0].atobPayList&&BuyList[0].atobPayList.length>0"}]},[a("div",[a("p",[e._v("宝转卡：")]),e._v(" "),a("ul",e._l(e.BuyList[0].atobPayList,function(t,l){return a("li",{key:l},[e._v(" 账号 "),a("span",[e._v(e._s(l+1))]),e._v(" ： "+e._s(t.num)),a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.payDetaile(t)}}},[e._v("详情")])],1)}),0)])])])])])],1):e._e()]),e._v(" "),a("div",{staticClass:"card-all-box clearfix"},[a("div",{staticClass:"card-box"},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("买家申述证据")])]),e._v(" "),a("table",{staticClass:"com-table",attrs:{border:"1",cellpadding:"0",cellspacing:"0",bordercolor:"#dee2e6"}},[a("tr",[a("th",[e._v("投诉图片")]),e._v(" "),a("th",[e._v("投诉文字")]),e._v(" "),a("th",[e._v("投诉时间")])]),e._v(" "),e.BuyProofInfo.appealRecdId?a("tr",[a("td",{staticStyle:{width:"40%"}},[a("viewer",{attrs:{options:e.options}},[a("img",{staticStyle:{width:"100%"},attrs:{src:e.BuyProofInfo.proofImg,alt:""}})])],1),e._v(" "),a("td",[e._v(e._s(e.BuyProofInfo.proofTxt))]),e._v(" "),a("td",[e._v(e._s(e.$fmtDate(e.BuyProofInfo.createTime,"full")))])]):e._e()])])],1),e._v(" "),a("div",{staticClass:"card-box"},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("卖家申述证据")])]),e._v(" "),a("table",{staticClass:"com-table",attrs:{border:"1",cellpadding:"0",cellspacing:"0",bordercolor:"#dee2e6"}},[a("tr",[a("th",[e._v("投诉图片")]),e._v(" "),a("th",[e._v("投诉文字")]),e._v(" "),a("th",[e._v("投诉时间")])]),e._v(" "),e.SaleProofInfo.appealRecdId?a("tr",[a("td",{staticStyle:{width:"40%"}},[a("viewer",{attrs:{options:e.options}},[a("img",{staticStyle:{width:"100%"},attrs:{src:e.SaleProofInfo.proofImg,alt:""}})])],1),e._v(" "),a("td",[e._v(e._s(e.SaleProofInfo.proofTxt))]),e._v(" "),a("td",[e._v(e._s(e.$fmtDate(e.SaleProofInfo.createTime,"full")))])]):e._e()])])],1)]),e._v(" "),a("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialogVisible,width:"470"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"ruleForm",attrs:{inline:!0,"label-width":"90px",model:e.ruleForm,rules:e.rules}},[a("div",[a("el-form-item",{staticClass:"judgment-box",attrs:{label:"判断输赢:",prop:"appealResult"}},[a("el-select",{model:{value:e.ruleForm.appealResult,callback:function(t){e.$set(e.ruleForm,"appealResult",t)},expression:"ruleForm.appealResult"}},e._l(e.appealResultData,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),a("div",[a("el-form-item",{staticClass:"judgment-box",attrs:{label:"处理买方:",prop:"buyerResult"}},[a("el-select",{model:{value:e.ruleForm.buyerResult,callback:function(t){e.$set(e.ruleForm,"buyerResult",t)},expression:"ruleForm.buyerResult"}},e._l(e.dealData,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),a("div",[a("el-form-item",{staticClass:"judgment-box",attrs:{label:"处理卖方:",prop:"salerResult"}},[a("el-select",{model:{value:e.ruleForm.salerResult,callback:function(t){e.$set(e.ruleForm,"salerResult",t)},expression:"ruleForm.salerResult"}},e._l(e.dealData,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),a("div",[a("el-form-item",{staticClass:"judgment-box",attrs:{label:"备注",prop:"appealRemark"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入备注信息"},model:{value:e.ruleForm.appealRemark,callback:function(t){e.$set(e.ruleForm,"appealRemark",t)},expression:"ruleForm.appealRemark"}})],1)],1)]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.dialogConfirm}},[e._v("确认")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"收款信息",visible:e.payDetaileShow,width:"500px"},on:{"update:visible":function(t){e.payDetaileShow=t}}},[a("div",[a("p",[e._v("收款姓名："+e._s(e.payItem.userName))]),e._v(" "),1==e.payItem.payType?a("p",[e._v("银行名称："+e._s(e.payItem.bankName))]):e._e(),e._v(" "),1==e.payItem.payType&&e.payItem.bankBranch?a("p",[e._v("支行名称："+e._s(e.payItem.bankBranch))]):e._e(),e._v(" "),a("p",[e._v(" "+e._s(1==e.payItem.payType?"银行卡号码：":"收款账号：")+" "+e._s(e.payItem.num))]),e._v(" "),1!=e.payItem.payType&&e.payItem.qrcode?a("p",[e._v("收款码："),a("img",{staticStyle:{width:"384px","vertical-align":"text-top"},attrs:{src:e.payItem.qrcode,alt:""}})]):e._e()])]),e._v(" "),a("el-dialog",{staticClass:"EditPrompt",attrs:{title:"确认修改金额？",visible:e.dialogVisible2,width:"420px"},on:{"update:visible":function(t){e.dialogVisible2=t}}},[a("p",[e._v("修改后，订单金额将发生变化，确认修改？")]),e._v(" "),a("el-form",{ref:"form",attrs:{"label-width":"55px",size:"mini"}},[a("el-form-item",{attrs:{label:"金额："}},[a("el-input",{on:{input:e.moneyInput},model:{value:e.money,callback:function(t){e.money="string"==typeof t?t.trim():t},expression:"money"}},[a("template",{slot:"append"},[e._v("CNY")])],2)],1)],1),e._v(" "),a("div",{staticClass:"btns"},[a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.dialogVisible2=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.appealChangeMoney}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var r=a("C7Lr")(l,s,!1,function(e){a("AnoC")},null,null);t.default=r.exports},AnoC:function(e,t){throw new Error("Module build failed: ModuleBuildError: Module build failed: Error: Cannot find module 'tslib'\n    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:594:15)\n    at Function.Module._load (internal/modules/cjs/loader.js:520:25)\n    at Module.require (internal/modules/cjs/loader.js:650:17)\n    at require (internal/modules/cjs/helpers.js:20:18)\n    at Object.<anonymous> (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_less@3.11.0@less\\dist\\less.cjs.js:3:13)\n    at Module._compile (internal/modules/cjs/loader.js:702:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:713:10)\n    at Module.load (internal/modules/cjs/loader.js:612:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:551:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:543:3)\n    at Module.require (internal/modules/cjs/loader.js:650:17)\n    at require (internal/modules/cjs/helpers.js:20:18)\n    at Object.<anonymous> (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_less@3.11.0@less\\index.js:1:80)\n    at Module._compile (internal/modules/cjs/loader.js:702:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:713:10)\n    at Module.load (internal/modules/cjs/loader.js:612:32)\n    at runLoaders (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_webpack@3.12.0@webpack\\lib\\NormalModule.js:195:19)\n    at E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\LoaderRunner.js:367:11\n    at E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\LoaderRunner.js:172:11\n    at loadLoader (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\loadLoader.js:32:11)\n    at iteratePitchingLoaders (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\LoaderRunner.js:169:2)\n    at iteratePitchingLoaders (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\LoaderRunner.js:165:10)\n    at E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\LoaderRunner.js:176:18\n    at loadLoader (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\loadLoader.js:47:3)\n    at iteratePitchingLoaders (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\LoaderRunner.js:169:2)\n    at iteratePitchingLoaders (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\LoaderRunner.js:165:10)\n    at E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\LoaderRunner.js:176:18\n    at loadLoader (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\loadLoader.js:47:3)\n    at iteratePitchingLoaders (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\LoaderRunner.js:169:2)\n    at runLoaders (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_loader-runner@2.4.0@loader-runner\\lib\\LoaderRunner.js:365:2)\n    at NormalModule.doBuild (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_webpack@3.12.0@webpack\\lib\\NormalModule.js:182:3)\n    at NormalModule.build (E:\\20200210\\new\\wallet-backmgr\\node_modules\\_webpack@3.12.0@webpack\\lib\\NormalModule.js:275:15)")}});